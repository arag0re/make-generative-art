class State{constructor(t,e,r,a){this.offset=createVector(t[0],t[1],t[2]),this.angle=e,this.rotationAxis=rotateAlong(r),this.scale=a}}class Attractor{constructor(t,e,r,a,c=1,o=8,n){this.x=this.initX=t,this.y=this.initY=e,this.z=this.initZ=r,this.dt=a,this.offset=n.offset,this.angle=6.283184*n.angle,this.rotation=n.rotationAxis,this.minSize=c,this.maxSize=o,this.scale=n.scale}compute(t,e,r){return createVector(10*(e-t),t*(28-r)-e,t*e-8/3*r)}update(){let t=this.compute(this.x,this.y,this.z);return this.x+=t.x*this.dt,this.y+=t.y*this.dt,this.z+=t.z*this.dt,createVector(this.x,this.y,this.z)}reset(){this.x=this.initX,this.y=this.initY,this.z=this.initZ}}class ActAttractor extends Attractor{compute(t,e,r){let a=1.8*(t-e),c=-7.2*e+t*r+.02*pow(t,3),o=-2.7*r+t*e+-.07*pow(r,2);return createVector(a,c,o)}}class AizawaAttractor extends Attractor{compute(t,e,r){let a=(r-.7)*t-3.5*e,c=3.5*t+(r-.7)*e,o=.6+.95*r-pow(r,3)/3-(pow(t,2)+pow(e,2))*(1+.25*r)+.1*r*pow(t,3);return createVector(a,c,o)}}class ArneodoAttractor extends Attractor{compute(t,e,r){let a=e,c=r,o=5.5*t-3.5*e-r+-1*pow(t,3);return createVector(a,c,o)}}class BurkeShawAttractor extends Attractor{compute(t,e,r){return createVector(-10*(t+e),-e-10*t*r,t*e+4.272)}}class ChenLeeAttractor extends Attractor{compute(t,e,r){return createVector(5*t-e*r,-10*e+t*r,-.38*r+t*(e/3))}}class ChenCelikovskyAttractor extends Attractor{compute(t,e,r){return createVector(36*(e-t),-t*r+20*e,t*e-3*r)}}class CoulletAttractor extends Attractor{compute(t,e,r){let a=e,c=r,o=.8*t+-1.1*e+-.45*r+-1*pow(t,3);return createVector(a,c,o)}}class DadrasAttractor extends Attractor{compute(t,e,r){return createVector(e-3*t+2.7*e*r,1.7*e-t*r+r,2*t*e-9*r)}}class DequanLiAttractor extends Attractor{compute(t,e,r){return createVector(40*(e-t)+.16*t*r,55*t+20*e-t*r,1.833*r+t*e-t*t*.65)}}class FinanceAttractor extends Attractor{compute(t,e,r){return createVector(4.999*t+r+t*e,-.2*e-t*t,-t-1.1*r)}}class FourWingsAttractor extends Attractor{compute(t,e,r){return createVector(4*t-6*e*r,-10*e+t*r,1*t-5*r+t*e)}}class HadleyAttractor extends Attractor{compute(t,e,r){return createVector(-e*e-r*r-.2*t+1.6,t*e-4*t*r-e+1,4*t*e+t*r-r)}}class HalvorsenAttractor extends Attractor{compute(t,e,r){return createVector(-1.4*t-4*e-4*r-e*e,-1.4*e-4*r-4*t-r*r,-1.4*r-4*t-4*e-t*t)}}class LorenzAttractor extends Attractor{compute(t,e,r){return createVector(10*(e-t),t*(28-r)-e,t*e-8/3*r)}}class LorenzMod1Attractor extends Attractor{compute(t,e,r){return createVector(-.1*t+e*e-r*r+.1*14,t*(e-4*r)+.08,r+t*(4*e+r))}}class LorenzMod2Attractor extends Attractor{compute(t,e,r){return createVector(-.9*t+e*e-r*r+8.91,t*(e-5*r)+1,t*(5*e+r)-r)}}class LuChenAttractor extends Attractor{compute(t,e,r){return createVector(-(40*t/-10-4)-e*r+18.1,-10*e+t*r,-4*r+t*e)}}class NetwtonLeipnikAttractor extends Attractor{compute(t,e,r){return createVector(-.4*t+e+10*e*r,-t-.4*e+5*t*r,.175*r-5*t*e)}}class NoseHooverAttractor extends Attractor{compute(t,e,r){return createVector(e,e*r-t,1.5-e*e)}}class QiChenAttractor extends Attractor{compute(t,e,r){return createVector(38*(e-t)+e*r,80*t+e-t*r,t*e-8/3*r)}}class RayleighBenardAttractor extends Attractor{compute(t,e,r){return createVector(-9*t+9*e,12*t-e-t*r,t*e-5*r)}}class RucklidgeAttractor extends Attractor{compute(t,e,r){return createVector(-2*t+6.7*e-e*r,t,e*e-r)}}class SakaryaAttractor extends Attractor{compute(t,e,r){return createVector(-t+e+e*r,-t-e+.4*t*r,r-.3*t*e)}}class ShimizuMoriokaAttractor extends Attractor{compute(t,e,r){return createVector(e,(1-r)*t-.75*e,t*t-.45*r)}}class ThomasAttractor extends Attractor{compute(t,e,r){let a=-.19*t+sin(e),c=-.19*e+sin(r),o=-.19*r+sin(t);return createVector(a,c,o)}}class ThreeScrollUnified1Attractor extends Attractor{compute(t,e,r){return createVector(40*(e-t)+.5*t*r,20*e-t*r,.833*r+t*e-t*t*.65)}}class ThreeScrollUnified2Attractor extends Attractor{compute(t,e,r){return createVector(40*(e-t)+.16*t*r,55*t-t*r+20*e,1.833*r+t*e-t*t*.65)}}class WangSunAttractor extends Attractor{compute(t,e,r){return createVector(.2*t+1*e*r,-.01*t+-.4*e-t*r,-1*r+-1*t*e)}}class WimolBanlueAttractor extends Attractor{compute(t,e,r){let a=e-t,c=-r*Math.tanh(t),o=t*e-2+abs(e);return createVector(a,c,o)}}class YuWangAttractor extends Attractor{compute(t,e,r){let a=10*(e-t),c=40*t-2*t*r,o=Math.exp(t*e)-2.5*r;return createVector(a,c,o)}}function rotateAlong(t){let e;switch(t){case"x":e=createVector(1,0,0);break;case"y":e=createVector(0,1,0);break;case"z":e=createVector(0,0,1);break;case"xy":e=createVector(1,1,0);break;case"xz":e=createVector(1,0,1);break;case"yz":e=createVector(0,1,1);break;default:e=createVector(1,0,0)}return e}function selectType(t,e,r,a,c,n){let y,s,x,i,u,l=max(.001,e/255),m=max(.001,r/255),p=max(.001,a/255),A=max(.001,c/255),z=int(n/255*11),w=null;switch(t){case 0:y=map(A,0,1,.009,.03),s=[0,.05,.15,.4,.5,.6,.8,.9,.6,.95,.25,.8],x=[1,1.05,1.05,1.2,1.1,1.2,1.1,1.05,1.1,1.05,1,1.1],i=["y","y","y","y","y","y","y","y","x","x","z","yz"],o=[[0,0,0],[0,.1,0],[0,.17,0],[-.1,.2,0],[0,0,0],[.15,0,0],[-.1,-.2,.1],[0,-.15,0],[.05,.1,0],[.05,-.15,0],[0,0,0],[.1,.15,0]],u=new State(o[z],s[z],i[z],x[z]),w=new ActAttractor(l,m,p,y,2.5,3,u);break;case 1:y=map(A,0,1,.01,.015),s=[0,.05,.15,.4,.53,.6,.8,.9,.6,.95,.25,.75],x=[1.2,1.2,1.2,1.2,1.2,1.2,1.2,1.2,1.2,1.2,1.2,1.2],i=["y","y","y","y","y","y","y","y","x","x","x","x"],o=[[0,0,0],[0,.1,0],[0,0,0],[0,0,0],[.05,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new AizawaAttractor(1,max(.8,m),1,y,4,20,u);break;case 2:y=map(A,0,1,.009,.01),s=[0,.05,.25,.34,.5,.6,.7,.75,.8,.9,.25,.25],x=[1.2,1.3,1.3,1.1,1.2,1.2,1.3,1.3,1.3,1.25,1.25,1.25],i=["y","y","y","y","y","y","y","y","x","x","x","z"],o=[[.275,0,0],[.275,-.1,0],[0,-.1,-.45],[.25,0,0],[-.3,0,0],[0,.1,0],[0,.1,.3],[0,.1,.4],[.1,.2,0],[.25,0,0],[0,0,-.1],[.35,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new ArneodoAttractor(l,m,p,y,1,30,u);break;case 3:y=map(A,0,1,.005,.009),y=round(y,3),s=[.1,.2,.26,.36,.45,.5,.62,.72,.8,.9,.25,.75],x=[1.2,1.1,1.1,1.2,1.12,1.05,1.13,.9,1.25,1.24,1.2,1.2],i=["y","y","y","y","y","y","y","y","y","y","x","x"],o=[[.15,-.2,0],[.1,-.15,.15],[.1,-.15,.15],[0,-.125,.1],[-.1,-.125,.1],[0,-.1,.1],[.15,.1,0],[.8,.2,0],[-.4,.2,0],[-.1,.2,0],[.2,0,0],[-.2,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new BurkeShawAttractor(l,m,p,y,2,8,u);break;case 4:y=map(A,0,1,.005,.007),s=[.1,.2,.3,.4,.6,.7,.8,.9,.25,.4,.6,.75],x=[1.1,1.1,1.2,1.3,1.3,1.2,1.15,1.05,1.1,1.1,1.2,1.2],i=["y","y","y","y","y","y","y","y","x","x","x","x"],o=[[0,.15,0],[0,.2,0],[0,.2,-.05],[0,.1,.1],[0,-.125,.1],[0,-.1,-.05],[0,-.2,0],[0,-.1,0],[-.16,0,-.2],[-.16,0,-.3],[.15,.15,0],[.2,0,-.2]],u=new State(o[z],s[z],i[z],x[z]),w=new ChenLeeAttractor(l,m,4.5,y,2,6,u);break;case 5:y=map(A,0,1,.003,.009),s=[.15,.2,.25,.35,.43,.6,.7,.8,.25,.75,.15,.82],x=[1.1,1.1,1.1,1.1,1.3,1.2,1.3,1.125,1.15,1.2,1.1,1.15],i=["y","y","y","y","y","y","y","y","x","x","x","x"],o=[[-.2,.25,0],[-.25,.3,0],[0,.3,-.1],[0,.2,-.2],[.1,.15,0],[0,-.1,-.15],[-.4,-.2,0],[.25,-.3,0],[-.25,0,0],[.3,0,-.12],[-.25,.15,0],[.25,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new ChenCelikovskyAttractor(l,m,p,y,3,4,u);break;case 6:y=map(A,0,1,.019,.021),s=[0,.2,.5,.7,.1,.25,.5,.6,.65,.75,.8,.9],x=[1.2,1.15,1.25,1.35,1.27,1.22,1.3,1.3,1.3,1.3,1.3,1.2],i=["y","y","y","y","x","x","y","y","x","x","x","x"],o=[[.3,0,0],[-.3,-.1,-.2],[-.3,0,0],[0,.1,.2],[.3,0,0],[0,.1,-.15],[-.35,0,0],[-.1,.1,0],[-.2,.1,0],[0,0,.1],[.1,.15,0],[.2,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new CoulletAttractor(l,.25,.25,y,3.5,10,u);break;case 7:y=map(A,0,1,.0065,.0075),y=round(y,4),s=[0,.1,.2,.1,.4,.5,.55,.65,.5,.8,.9,.9],x=[1,1.05,1,1,1,1.1,1.1,1.15,1.2,1.1,1.025,1],i=["y","y","y","x","y","y","y","y","x","y","y","x"],o=[[.05,0,0],[-.3,0,0],[-.3,.05,0],[.05,0,0],[-.2,0,0],[-.2,.1,0],[0,.1,0],[-.2,0,0],[-.3,.1,0],[-.4,0,0],[.1,0,0],[.1,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new DadrasAttractor(1,1,1,y,3,8,u);break;case 8:y=map(A,0,1,25e-5,3e-4),s=[.2,.4,.6,.8,.9,.2,.6,.8,.2,.8,.5,.6],x=[1.2,1.3,1.2,1.1,1.05,1.1,1.3,1.15,1.1,1,1.1,1.1],i=["y","y","y","x","y","x","x","x","xz","xz","xz","xz"],o=[[0,.2,0],[.2,.2,0],[-.1,0,0],[0,0,0],[.2,0,0],[-.1,0,0],[0,.1,0],[.1,0,0],[0,.2,0],[0,0,-.1],[0,0,-.2],[0,0,-.2]],u=new State(o[z],s[z],i[z],x[z]),w=new DequanLiAttractor(l,m,p,y,1,3,u);break;case 9:y=map(A,0,1,.03,.06),s=[0,.25,.45,.1,.25,.5,.75,.1,.25,.4,.6,.8],x=[1.25,1.2,1.1,1.2,1.3,1.15,1.2,1.2,1.3,1.1,1.15,1.1],i=["y","y","y","x","x","x","x","xz","xz","xy","xy","xy"],o=[[.3,-.1,0],[.1,0,-.2],[-.1,.2,0],[.2,.1,0],[0,0,0],[-.2,.2,0],[0,.2,.2],[.2,0,0],[0,-.3,-.1],[0,.1,.2],[0,0,-.1],[0,0,.2]],u=new State(o[z],s[z],i[z],x[z]),w=new FinanceAttractor(l,m,p,y,3,10,u);break;case 10:y=.005,s=[0,.25,.35,.65,.75,.9,.1,.25,.25,.75,.25,.75],x=[1.1,1.2,1.1,1.1,1.1,1.15,1.1,1,1.2,1.1,1.15,1.1],i=["y","y","y","y","y","y","x","x","xz","xz","xy","xy"],o=[[0,-.1,0],[0,0,0],[0,-.1,0],[0,0,0],[0,0,0],[0,-.1,0],[0,0,.1],[0,0,0],[0,-.3,-.1],[0,0,0],[0,-.25,0],[.1,0,.1]],u=new State(o[z],s[z],i[z],x[z]),w=new FourWingsAttractor(.1,1,.1,y,2,4,u);break;case 11:y=map(A,0,1,.005,.009),s=[0,.25,.35,.5,.65,.85,.1,.25,.9,.75,.25,.7],x=[1.1,1.25,1.25,1.1,1.1,1.1,1.1,1,1.1,1.1,1.1,1.1],i=["y","y","y","y","y","y","x","x","x","xz","xz","xz"],o=[[0,0,0],[0,0,0],[0,-.1,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,-.1,-.1],[0,0,.1],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new HadleyAttractor(l,m,p,y,2,50,u);break;case 12:y=map(A,0,1,.002,.005),s=[0,.25,.5,.75,.86,.1,.25,.5,.35,.75,.25,.5],x=[1.3,1.15,1.15,1.25,1.1,1.2,1.25,1.1,1.3,1.1,1.3,1.3],i=["y","y","y","y","y","x","x","x","xy","xy","xz","xz"],o=[[.2,.1,0],[0,0,0],[0,0,0],[0,.2,0],[0,.2,0],[0,0,0],[0,0,.1],[0,0,0],[.2,0,-.1],[0,0,0],[0,-.3,0],[0,.1,0]],u=new State(o[z],s[z],i[z],x[z]),w=new HalvorsenAttractor(l,min(m,.5),min(p,.5),y,2,15,u);break;case 13:y=map(A,0,1,.009,.02),s=[0,.25,.45,.55,.75,.1,.25,.5,.75,.75,.6,.8],x=[1,1.1,1.2,1.25,1.1,1,1.15,1.3,1.1,.95,.9,.9],i=["y","y","y","y","y","x","x","x","x","xy","xz","xz"],o=[[0,0,0],[0,.3,-.1],[0,.1,0],[0,0,0],[0,-.2,-.2],[-.2,0,0],[-.25,0,0],[0,0,0],[.2,0,0],[.2,-.4,-.1],[.4,-.3,-.1],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new LorenzAttractor(l,m,p,y,3,4,u);break;case 14:y=map(A,0,1,.005,.0055),y=round(y,4),s=[.1,.2,.3,.55,.65,.9,.75,.5,.75,.25,.6,.75],x=[1.1,1,1,1.1,1.1,1,.95,1.1,1.1,1,1.1,1],i=["y","y","y","y","y","x","x","xy","xy","xy","xz","xz"],o=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new LorenzMod1Attractor(.1,.1,.1,y,3,9,u);break;case 15:y=map(A,0,1,.001,.003),s=[.1,.2,.3,.4,.65,.9,.75,.25,.5,.25,.25,.75],x=[1.1,1,1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1],i=["y","y","y","y","y","y","z","z","z","xz","xy","xz"],o=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new LorenzMod2Attractor(l,m,p,y,3,7,u);break;case 16:y=map(A,0,1,.002,.003),s=[.25,.35,.65,.75,.25,.65,.75,.1,.4,.6,.6,.8],x=[1.3,1.3,1.3,1.2,1.1,1.25,1.3,1.2,1.25,1.4,1.1,1.05],i=["y","y","y","y","x","x","x","xy","xy","xy","xz","xz"],o=[[0,.1,0],[0,0,0],[0,0,0],[0,0,0],[-.1,0,-.2],[0,.2,0],[.1,.2,-.1],[0,.1,-.2],[0,-.2,0],[-.2,.1,0],[0,0,0],[0,-.1,0]],u=new State(o[z],s[z],i[z],x[z]),w=new LuChenAttractor(1,1,1,y,2,5,u);break;case 17:y=map(A,0,1,.03,.05),l=.1,m=.1,p=.1,y=round(y,3),s=[.1,.34,.45,.6,.75,.85,.1,.7,.86,.1,.32,.8],x=[1.1,1.21,1,1.05,1.1,1.15,1.2,1.1,1.2,1.1,1.15,1.15],i=["y","y","y","y","y","y","x","x","x","xy","xz","xz"],o=[[.2,.1,0],[.2,0,.2],[-.1,0,0],[.2,0,0],[0,-.05,.1],[-.2,-.1,0],[-.05,0,0],[.1,0,0],[.15,0,0],[0,.1,0],[-.1,.1,.1],[-.1,.2,0]],u=new State(o[z],s[z],i[z],x[z]),w=new NetwtonLeipnikAttractor(l,m,p,y,4,50,u);break;case 18:y=map(A,0,1,.01,.02),s=[.1,.2,.3,.4,.25,.45,.7,.8,.9,.1,.4,.6],x=[1.1,1.15,1.2,1.2,1.1,1.15,1.2,1.1,1.2,1.1,1.15,1.15],i=["y","y","y","y","xz","xy","xy","xy","xy","xy","xz","xz"],o=[[-.1,0,0],[0,0,0],[.1,0,0],[.1,0,0],[0,0,0],[0,0,0],[-.05,0,0],[.1,0,0],[0,0,0],[0,.1,0],[0,0,0],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new NoseHooverAttractor(0,.1,0,y,4,8,u);break;case 19:y=map(A,0,1,8e-4,.001),s=[.75,.25,.2,.2,.3,.7,.2,.6,.7,.25,.5,.74],x=[1.15,1.15,1.1,1.2,1.2,1.2,1,1.4,1.3,1.45,1.2,1.025],i=["y","y","x","xy","xy","xy","xz","xz","xz","yz","yz","yz"],o=[[0,-.1,-.2],[0,.1,-.2],[-.1,0,0],[0,0,-.3],[0,0,-.3],[0,0,-.4],[0,.4,.1],[-.3,0,-.3],[0,0,-.5],[.2,-.4,-.6],[0,0,-.15],[.4,.1,-.1]],u=new State(o[z],s[z],i[z],x[z]),w=new QiChenAttractor(l,m,p,y,2,2.5,u);break;case 20:y=map(A,0,1,.045,.055),s=[0,.15,.2,.4,.5,.7,.2,.37,.6,.43,.8,.9],x=[1,1.05,1.05,1.2,1.35,1.1,1.1,1.2,1.3,1.1,1.1,.9],i=["y","y","y","y","y","y","x","x","x","xz","xz","xz"],o=[[0,0,0],[-.25,.2,0],[-.25,.3,0],[.3,.1,0],[0,0,0],[-.5,-.2,0],[-.25,0,0],[-.1,0,0],[.1,0,0],[0,-.2,-.2],[-.2,.2,-.5],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new RayleighBenardAttractor(l,m,p,y,1,2,u);break;case 21:y=map(A,0,1,.05,.1),s=[0,.1,.2,.4,.5,.75,.1,.45,.6,.6,.1,.75],x=[1,1.05,1.1,1.25,1.6,1.2,1,1.4,1.3,1.2,1.05,1.05],i=["y","y","y","y","y","y","x","x","x","xz","xy","xy"],o=[[0,.1,0],[-.2,-.1,0],[-.4,-.1,0],[.1,-.05,0],[0,0,0],[0,0,-.2],[.15,.2,0],[0,0,0],[0,.1,0],[0,.1,-.2],[-.1,.1,0],[0,0,0]],u=new State(o[z],s[z],i[z],x[z]),w=new RucklidgeAttractor(l,m,p,y,2,4.5,u);break;case 22:y=map(A,0,1,.0072,.0081),y=round(y,4),s=[.1,.2,.3,.4,.8,.6,.7,.9,.2,.25,.35,.85],x=[1.1,1,1.05,1.1,1,1.1,1,1.1,1,1,1.05,1.05],i=["y","y","y","y","xz","y","y","y","x","xy","xy","xy"],o=[[0,.1,0],[0,.1,0],[0,0,0],[-.1,0,0],[0,0,0],[.1,0,0],[0,0,0],[0,-.1,0],[-.15,0,0],[0,.1,0],[-.1,.1,0],[0,-.1,0]],u=new State(o[z],s[z],i[z],x[z]),w=new SakaryaAttractor(1,1,1,y,3,9,u);break;case 23:y=map(A,0,1,.06,.09),s=[.1,.2,.3,.4,.6,.7,.9,.2,.6,.9,.21,.75],x=[1,1.1,1.25,1.2,1.25,1.25,1.025,1.1,1.2,1,1,1.2],i=["y","y","y","y","y","y","y","x","x","x","xz","xz"],o=[[-.1,-.1,0],[-.2,-.2,0],[.25,-.1,0],[.1,0,0],[-.1,0,0],[-.3,0,0],[.1,.15,0],[0,-.1,0],[0,.1,0],[0,-.2,0],[0,.25,0],[.1,-.25,0]],u=new State(o[z],s[z],i[z],x[z]),w=new ShimizuMoriokaAttractor(l,m,p,y,3,20,u);break;case 24:y=map(A,0,1,.08,.1),s=[0,.1,.25,.3,.4,.5,.6,.2,.75,.2,.7,.9],x=[1.3,1.2,1.3,1.2,1.25,1.25,1.25,1.25,1.2,1.2,1.25,1.5],i=["y","y","y","y","y","y","xy","x","x","xz","yz","yz"],o=[[0,-.1,0],[0,0,0],[0,0,.2],[-.2,0,0],[.1,.1,0],[0,.1,0],[.1,0,.1],[-.2,0,0],[.2,0,0],[0,.1,.2],[0,0,0],[-.2,-.2,-.4]],u=new State(o[z],s[z],i[z],x[z]),w=new ThomasAttractor(l,m,p,.08,3,10,u);break;case 25:y=map(A,0,1,8e-4,.001),s=[.1,.2,.3,.6,.8,.89,.75,.2,.3,.75,.65,.2],x=[1.1,1.1,1.25,1.2,1.35,1.1,1.2,1.2,1.2,1.1,1.05,1.1],i=["y","y","y","y","y","y","x","x","xy","xy","yz","yz"],o=[[-.2,.1,0],[-.3,.3,0],[.4,.2,0],[-.1,0,0],[-.3,-.15,-.2],[.15,-.2,0],[.2,0,0],[-.2,0,0],[0,0,0],[0,0,-.1],[.2,.4,0],[-.1,.1,0]],u=new State(o[z],s[z],i[z],x[z]),w=new ThreeScrollUnified1Attractor(l,m,p,y,3,4,u);break;case 26:y=map(A,0,1,2e-4,3e-4),s=[.1,.2,.4,.65,.8,.8,.8,.3,.6,.3,.5,.2],x=[1.1,1.1,1.3,1.2,1.35,1.1,1.2,1.2,1.3,1.3,1.2,1.1],i=["y","y","y","y","y","x","x","xy","xy","xz","xz","yz"],o=[[-.2,.1,0],[-.3,.2,0],[.2,.2,0],[-.2,0,0],[-.1,-.15,-.2],[.1,-.2,0],[.1,0,0],[.1,0,-.1],[0,0,0],[0,0,-.3],[0,-.2,-.2],[-.1,0,-.1]],u=new State(o[z],s[z],i[z],x[z]),w=new ThreeScrollUnified2Attractor(l,m,p,y,1,3,u);break;case 27:y=map(A,0,1,.07,.072),y=round(y,3),m=round(m,3),s=[.1,.35,.4,.6,.8,.9,.8,.9,.6,.1,.17,.78],x=[1.1,1.1,1.1,1.1,1.15,1.1,1.3,1,1.1,1.05,1.1,1.1],i=["y","y","y","y","y","y","x","x","x","xz","xz","yz"],o=[[0,-.1,0],[0,0,0],[0,.1,0],[0,.1,0],[0,0,0],[0,0,0],[-.1,.55,0],[0,-.1,0],[0,0,0],[0,0,0],[-.1,0,0],[0,-.2,-.2]],u=new State(o[z],s[z],i[z],x[z]),w=new WangSunAttractor(1,1,0,y,3,18,u);break;case 28:y=map(A,0,1,.04,.047),y=round(y,3),s=[.2,.66,.4,.6,.8,.2,.8,.75,.57,.23,.6,.4],x=[1.1,1,1.1,1.15,1.15,1.1,1.3,1.1,1.2,1.1,1.1,1.1],i=["y","y","y","y","y","x","x","x","x","xz","xz","yz"],o=[[-.2,.2,0],[0,-.1,0],[0,.2,0],[-.1,0,0],[0,-.2,0],[-.2,0,0],[.2,.4,-.2],[.1,.1,0],[0,0,0],[0,.2,.1],[-.1,0,0],[0,-.2,-.1]],u=new State(o[z],s[z],i[z],x[z]),w=new WimolBanlueAttractor(1,1,1,y,4,10,u);break;case 29:y=map(A,0,1,.001,.004),s=[0,.1,.2,.4,.6,.7,.8,.9,.57,.23,.78,.8],x=[1,1,1.1,1.1,1.1,1.1,1.25,1,1.1,1,1.05,.9],i=["y","y","y","y","y","x","x","x","x","xz","xz","yz"],o=[[0,0,0],[-.1,.1,0],[0,.2,0],[0,.1,0],[0,-.2,0],[.15,0,0],[.2,.4,-.2],[.1,-.2,0],[0,-.1,0],[0,.2,.2],[-.1,.1,-.4],[.25,0,.3]],u=new State(o[z],s[z],i[z],x[z]),w=new YuWangAttractor(2,3,4,y,4,5,u);break;default:w=new Attractor(1,0,0,.01,2,4)}return w}var n,attractor,minVec,maxVec,axis,scaler,scalerSphere,points=[],distances=[];function setup(){createCanvas(windowWidth,windowHeight,WEBGL),smooth(),background(10);let t=parseHash(tokenData.hash),e=sum(t)%30;axis=min(height,width),scaler=.3,scalerSphere=.0015*axis,n=1e4,minVec=createVector(1e5,1e5,1e5),maxVec=createVector(-1e5,-1e5,-1e5),attractor=selectType(e,t[0],t[1],t[2],t[3],t[4]),computePoints(),ambientLight(30);let r=createVector(80,90,90);directionalLight(r.x,r.y,r.z,-3,3,-1),directionalLight(r.x,r.y,r.z,10,0,-1),drawAttractor()}function parseHash(t){let e=[];for(let r=0;r<32;r++)e.push(t.slice(2+2*r,4+2*r));return e.map(t=>parseInt(t,16))}function sum(t){let e=0;for(let r=0;r<t.length;r++)e+=t[r];return e}function getRanges(t){t.x<minVec.x&&(minVec.x=t.x),t.y<minVec.y&&(minVec.y=t.y),t.z<minVec.z&&(minVec.z=t.z),t.x>maxVec.x&&(maxVec.x=t.x),t.y>maxVec.y&&(maxVec.y=t.y),t.z>maxVec.z&&(maxVec.z=t.z)}function remapCoords(t){let e=attractor.offset,r=axis*scaler,a=e.x*r,c=e.y*r,o=e.z*r,n=map(t.x,minVec.x,maxVec.x,-1,1),y=map(t.y,minVec.y,maxVec.y,-1,1),s=map(t.z,minVec.z,maxVec.z,-1,1);return createVector(n*r+a,y*r+c,s*r+o)}function computePoints(){let t=attractor.update();points[0]=t,distances[0]=1e10,getRanges(t);for(let t=1;t<n;t++){let e=attractor.update();points[t]=e,getRanges(e);let r=p5.Vector.sub(e,points[t-1]).mag();distances[t]=r}}function drawAttractor(){background(10,255),fill(255);for(let t=0;t<n;t++){let e=points[t];e=remapCoords(e);let r=t/n;noStroke(),push(),scale(attractor.scale),rotate(attractor.angle,attractor.rotation),translate(e.x,e.y,e.z),shininess(10);let a=255*(.5*cos(3.14*r*2)+.5);specularMaterial(a);let c=distances[t],o=map(c,0,1,attractor.minSize,attractor.maxSize);sphere(o*scalerSphere),pop()}}