const t=t=>parseInt(t.hash.slice(0,16),16);let i=t(tokenData),s=1e3,e=window.innerWidth,h=window.innerHeight,n=Math.min(e,h),r=Math.max(e,h),o=n/s;const c=()=>_(Object.keys(st));let a,f,u,l,d,p,b,m,g,w,q,x,I,E,F,v,k,A,y,C;const S=["circles","lines","shapes"];function setup(){f=drawingContext,createCanvas(e,h);let t=displayDensity();pixelDensity(t),u=()=>{const t=j(30,50);v=Q()>.985,b=Q()>.95,m=!v&&Q()>.95,g=Q()>.8,q=Q()>.3,w=!q&&Q()>.7,F=!v&&q&&Q()>.96,x=Q()>.85,I=v||Q()>.96,E=Q()>.96,k=!q&&Q()>.7,k&&(F=Q()>.3,w=!0),A=Q()>.93,y=Q()>.9,C=Q()>.995;const i=j(Z.length-1),s=j(tt.length-1),e=b?Z[i]:tt[s];let h={t:"",i:"╧╙⑂╪╋╘┵┩┞┟┎┛┏┙┍┑┗┕┓┓└╄⌖⊚⊖•…⍥☐",h:"☰☱☲☳☴☵☶☷≡═﹉﹍﹊〣⑉⑇⑆⑀",o:"じづひべのっㆀㆁㆆΘζ〇╯",u:"︰•‥…‡﹤﹥︽︾》∨∩⊐⊏《",l:"⚫◑◓◒◐⋮⋯⋰⋱⊷∷∶∵∴•…",p:"¤♢⬿⥽⥼✢×ↀ☐◌",m:"⌖☶◈┉⎯︶︵╰╯╮╭◟◞◝◜",g:"✤ㆀⒾ┇✕﹍﹉┈⍭⍬⍫"};C&&(h={q:"TBOA"});const r=_(Object.keys(h)),c=H(e);a=X(c,t).map((t=>color(t)));let f=["circles","points","lines","gradients","shapes"];v&&(f=["circles","gradients"]),l=[],x&&l.push(new U(a[0],"spirals",c,h[r].split("")));const u=new Array(t-1).fill(0).map((()=>_(f))).map(((t,i)=>new U(a[i],t,c,h[r].split(""))));l=[...l,...u],v||l.push(new U(a[0],"glyphs",c,h[r].split(""))),d=[];for(let t=0;t<n/2;t+=1){const t=random(width),i=random(height),s=.1*random(),e=random(1,3)*o,h=a[Math.round(random(a.length-1))];d.push({x:t,y:i,I:s,color:h,size:e})}p=[];const S=_(Object.keys(st));for(let t=0;t<n;t++)p[t]=new L(a[Math.round(random(a.length-1))],S);background(0)},u()}let P=1e3,O=1,M=!0,D=0,T=!0,z=!1;const R=()=>{O>.3?O-=.2:O<.3&&(O=1.8),D=255};window.addEventListener("click",R),window.addEventListener("touchstart",R);const N=[1,2,3,4,5,6,7,8,9];function draw(){if(background(b?220:0,z?20:255),push(),textAlign(CENTER),textSize(.05*n),fill(255,D),text(`${O.toFixed(1)}x`,width/2,.05*n),pop(),D>0&&(D-=4),T){push(),translate(width/2,height/2);for(let t=0;t<p.length;t++)p[t].update(),p[t].F();pop();for(let t=0;t<d.length;t+=1){const{x:i,y:s,color:e,I:h,size:n}=d[t];fill(e),noStroke(),circle(i,s,map(sin(P*h),-1,1,0,n))}}P+=O;for(let t=0;t<l.length;t+=1)l[t].v(Math.round(P)),l[t].update(),l[t].F(P)}window.addEventListener("keydown",(t=>{if(" "===t.key)return M?noLoop():loop(),void(M=!M);"s"!==t.key?"t"!==t.key?N.includes(Number(t.key))&&(O=.2*Number(t.key),D=255):z=!z:T=!T}));class U{constructor(t,i,s,e){this.type=i,this.color=t,this.count=0,this.k=0,this.A=[0,0,0],this.C=[],this.S=[],this.P=[];for(let t=1;t<=3;t+=1){this.C.push(c());for(let t=1;t<=4;t+=1)this.S.push(Q())}this.O=j(600,1200),this.M=j(0,this.O);for(let t=1;t<=3;t+=1)this.P.push(j(2,16));if(this.D=!I&&Q()>.5,this.T="shapes"===this.type?Q()>.8:Q()>.2,this.R=$(12)*o,this.N=this.T?$(30,100):$(5,20),this.U=$(1,this.N),this.L=$(700)*o,this.B=$(700)*o,this.W=$(this.U)*o,this.$=$(this.U)*o,this.angle=$(TAU),this.j=this.angle+$(-PI,PI),this._=$(TAU*(this.L/2)),this.H=$(TAU*(this.L/2)),this.V=$(TAU*(this.L/2)),this.Y=$(TAU*(this.L/2)),this.G=j(10,100),this.J=$(1,30)*o,this.K=j(2,15),this.X=j(3,10),this.Z=C?1:j(2,8),this.tt=j(1,8),this.it=$(20,100),this.st=j(30,100),this.et=$(640)*o,this.ht=$(10,40),this.nt=$(.1,.7),this.rt=$(4,20),this.ot=$(4)*o,this.ct=$(4)*o,this.at=X(s,F?27:9).map(((t,i)=>{const s=color(t);return i<3||i>6?s.setAlpha(0):s.setAlpha(255),s})),this.ft=Q()>.5,this.offset=$(F?54:.36,F?810:5.4),this.x=$(-this.offset,this.offset)*o,this.ut=$(-this.offset,this.offset)*o,this.y=$(-this.offset,this.offset)*o,this.lt=$(-this.offset,this.offset)*o,this.dt=c(),this.bt=et(this.dt,F?27:9,Q(),Q(),Q(),Q(),Q(),Q()).map((t=>{const i=abs(t);return i>1?1:i<0?0:i||0})),this.gt=[],this.wt=[],this.bt.forEach(((t,i)=>{if(0===t||1===t)this.gt.push(t),this.wt.push(this.at[i]);else{this.gt.push(t),this.gt.push(t);const s=this.bt[i+1]-t||0;this.gt.push(t+s*w?.99:.01),this.gt.push(t+.99*s),this.wt.push(this.at[i]),this.wt.push(this.at[i+1]),this.wt.push(this.at[i+1]),this.wt.push(this.at[(i+2)%this.at.length])}})),F&&(this.gt=H(this.gt)),this.qt=100*o,this.xt=400*o,this.It=$(.005,.05),this.Et=Q()>.5,this.Ft=!0,this.vt=$(100,400)*o,this.kt=$(TWO_PI),this.At=0,this.yt=0,this.Ct=[],this.St=j(20,300),"shapes"===i)for(let t=0;t<this.St;t+=1)this.Pt();if("glyphs"===i){this.Ot=$(350,500)*o,this.Mt=$(350,500)*o,this.Dt=[];for(let t=0;t<TAU;t+=PI/8){const i=[],s=[];if(e.length>0)for(let t=0;t<3;t+=1)i.push(_(e));else for(let t=0;t<4;t+=1){const t=$(9)*PI/2,i=20*cos(t)*o,e=10*sin(t)*o,h=$(6)*PI/2,n=24*cos(h)*o,r=12*sin(h)*o,c=$(4)*PI/2,a=15*cos(c)*o,f=14*sin(c)*o;s.push({x2:i,y2:e,Tt:n,zt:r,Rt:a,Nt:f})}this.Dt.push({angle:t,Ut:s,Lt:i})}}"spirals"===i&&(this.Bt=$(10,20),this.Wt=$(1.1*this.Bt,.1*this.Bt),this.Qt=$(20)*o,this.$t=$(20)*o,this.jt=$(-.1,.1),this._t=$(-.1,.1))}v(t){this.count=t+this.M;const i=this.count%this.O/this.O;for(let t=0;t<3;t+=1){const s=min(i*this.P[t],1);this.A[t]=st[this.C[t]](s,this.S[t],this.S[t+1],this.S[t+2],this.S[t+3])}}Pt(){let t=cos(this.kt)*this.vt,i=sin(this.kt)*this.vt;if(this.Ct.push({x:t,y:i}),this.Ct.length>this.St&&this.Ct.shift(),this.Ft?this.kt+=this.At:this.vt+=this.yt*(o+.005*this.vt),Q()>.1-.1*O+.9){this.Ft=!this.Ft;const t=.025,i=O;this.At=Q()>.5?$(-t):$(t),this.vt<this.qt?this.yt=$(i):this.vt>this.xt?this.yt=$(-i):this.yt=Q()>.5?$(i):$(-i)}}update(){"shapes"===this.type&&this.Pt(),this.count%this.O==0&&this.k!==this.count&&(this.k=this.count,this.L=this.B,this.B=$(700)*o,this.angle=this.j,this.j=$(TAU),this._=this.Y,this.Y=$(2*PI*(this.L/2)),this.V=this.H,this.H=$(2*PI*(this.L/2)),this.W=this.$,this.$=$(this.U)*o,"lines"===this.type&&(this.ot=this.ct,this.ct=$(4)*o),"gradients"===this.type&&(this.x=this.ut,this.ut=$(-this.offset,this.offset)*o,this.y=this.lt,this.lt=$(-this.offset,this.offset)*o),"glyphs"===this.type&&(this.Ot=this.Mt,this.Mt=$(350,500)*o),"spirals"===this.type&&(this.Bt=this.Wt,this.Wt=$(1.05*this.Bt,.05*this.Bt),this.Qt=this.$t,this.$t=$(20)*o,this.jt=this._t,this._t=$(-.1,.1)))}F(t){const i=t/5e3;let s=lerp(this.L,this.B,this.A[0]),e=lerp(this.W,this.$,this.A[1]),h=lerp(this.angle,this.j,this.A[2]);const r=.75*n/s;if(push(),translate(width/2,height/2),strokeCap(SQUARE),stroke(this.color),fill(this.color),this.D&&S.includes(this.type)){let t=lerp(this._,this.Y,this.A[2]),i=lerp(this.V,this.H,this.A[1]);strokeCap(SQUARE),this.T?f.setLineDash([t,this.R]):(blendMode(DIFFERENCE),f.setLineDash([i,t])),f.lineDashOffset=t}switch(this.type){case"circles":push(),rotate(h),noFill(),strokeWeight(m?e/2:e),circle(0,0,s),m&&(rectMode(CENTER),strokeWeight(e/2),square(0,0,s)),pop();break;case"points":{push(),this.Ht=G(0,0,this.G,this.G,s,h);const t=Math.round(this.Ht.length/this.tt);for(let s=0;s<t;s+=1){const{x:t,y:h}=this.Ht[s],n=map(cos(i%10*Math.round(e*cos(s))*this.it),-1,1,0,1);rectMode(CENTER),s%this.X==0&&(noFill(),circle(t,h,this.J/r)),s%this.K==0&&(noFill(),circle(t,h,this.J/r*1.5*(1-n)),fill(this.color),noStroke(),circle(t,h,lerp(0,this.J/r,n)))}pop()}break;case"lines":{const t=sin(i*this.ht),s=st[this.C[0]](t,this.S[0],this.S[1],this.S[2],this.S[3]),e=st[this.C[1]](t,this.S[4],this.S[5],this.S[6],this.S[7]);let h=lerp(this.ot,this.ct,this.A[0]),n=lerp(this.angle,this.j,this.A[1]);push();const r=lerp(this.et/4,1.5*this.et,constrain(e,0,1));this.Ht=G(0,0,this.st,this.st,r,n);for(let t=0;t<this.Ht.length;t+=1)if(t%this.K==0){const{x:i,y:e}=this.Ht[t],n=map(cos(Math.round(s*cos(t)*5)*this.rt),-1,1,0,this.nt),r=lerp(i,0,n),o=lerp(e,0,n);strokeWeight(h),line(i,e,r,o)}pop()}break;case"gradients":{push();let t=lerp(this.x,this.ut,this.A[1])||0,i=lerp(this.y,this.lt,this.A[2])||0;k||rotate(h),q?(push(),B(0,0,s,this.gt,this.wt),noStroke(),circle(0,0,s),pop(),push(),blendMode(DIFFERENCE),B(t,i,s,this.gt,this.wt),noStroke(),circle(0,0,s),pop(),push(),blendMode(OVERLAY),B(-t,-i,s,this.gt,this.wt),noStroke(),circle(0,0,s),pop()):(push(),(g||k)&&blendMode(this.ft?DIFFERENCE:OVERLAY),k?W(0,50*t-s,0,+s+50*i,this.gt,this.wt):B(0,0,s,this.gt,this.wt),strokeWeight(e),k||noStroke(),circle(0,0,s),pop()),pop()}break;case"shapes":{let t=lerp(this.ot,this.ct,this.A[1]),i=1+sin(this.A[0]*TAU)*this.It;push(),rotate(h),blendMode(ADD);const s=lerp(0,this.Ct[0].x,this.A[1]),e=lerp(0,this.Ct[0].y,this.A[1]);y||noFill(),strokeWeight(t),y&&noStroke(),beginShape(),vertex(s,e);for(let t=0;t<this.Ct.length;t+=1){const{x:s,y:e}=this.Ct[t];vertex(s*i,e*i)}vertex(0,0),endShape(),pop()}break;case"spirals":{const h=lerp(this.Bt,this.Wt,this.A[0]),n=lerp(this.jt,this._t,this.A[2]);push(),rotate(t/n/1e4);for(let t=0;t<100;t+=PI/h){const h=cos(t)*t*s/50,n=sin(t)*t*s/50,o=map(cos(i%10*Math.round(e*cos(t))*this.it),-1,1,this.Qt,this.$t);noStroke(),circle(h,n,o/r/2)}}pop();break;default:{push();let t=lerp(this.Ot,this.Mt,this.A[0]);rotate(h);for(let i=0;i<this.Dt.length;i+=1){const{Ut:s,angle:e,Lt:h}=this.Dt[i];if(i%this.Z==0){push(),blendMode(DIFFERENCE);const n=cos(e)*t,r=sin(e)*t;translate(n,r),rotate(e),s.length>0&&s.forEach((({x2:t,y2:s,Tt:e,zt:h,Rt:n,Nt:r},o)=>{const c=map(sin(this.A[0]*cos(i)*100/o),-1,1,0,2);noFill(),strokeWeight(c),bezier(0,0,t,s,e,h,n,r)})),h.length>0&&h.forEach(((t,i)=>{noStroke(),textAlign(CENTER),textSize((30+3*i)*o),text(t,0,0)})),pop()}}pop()}}pop()}}class L{constructor(t){this.color=t,this.x=random(-width,width),this.y=random(-height,height),this.z=random(width),this.Vt=this.z,this.speed=5*o}update(){this.z=E?this.z+this.speed*O:this.z-this.speed*O,(E?this.z>width:this.z<1)&&(this.z=E?random(width):width,this.x=random(-width,width),this.y=random(-height,height),this.Vt=this.z)}F(){push(),fill(this.color),noStroke();const t=map(this.x/this.z,0,1,0,width),i=map(this.y/this.z,0,1,0,height),s=map(this.z,0,r,A?20*o:3*o,0);circle(t,i,s);const e=map(this.x/this.Vt,0,1,0,width),h=map(this.y/this.Vt,0,1,0,height);this.Vt=this.z,stroke(this.color),line(e,h,t,i),pop()}}const B=(t,i,s,e,h)=>{const n=s>=0?s:0,r=f.createRadialGradient(t,i,0,t,i,n);return e.forEach(((t,i)=>r.addColorStop(t,h[i]))),f.fillStyle=r,r},W=(t,i,s,e,h,n)=>{const r=f.createLinearGradient(t,i,s,e);return h.forEach(((t,i)=>r.addColorStop(t,n[i]))),f.fillStyle=r,r};function Q(){return i^=i<<13,i^=i>>17,i^=i<<5,(i<0?1+~i:i)%1e3/1e3}function $(t,i){return i?Q()*(i-t)+t:Q()*t}function j(t,i){return Math.floor($(t,i))}function _(t){return t[j(0,t.length)]}function H(t){for(var i,s,e=t.length,h=t.slice();e;)i=Math.floor(Q()*e--),s=h[e],h[e]=h[i],h[i]=s;return h}const V=(t,i)=>H(t).slice(0,i),Y=(t,i,s,e,h)=>{const n=[];for(let r=0;r<h-1;r+=1){const o=lerp(t,s,r/(h-1)),c=lerp(i,e,r/(h-1));n.push({x:o,y:c})}return n.push({x:s,y:e}),n},G=(t,i,s,e,h,n)=>{const r=[];for(let s=0;s<e;s+=1)r.push({x:t+h*cos(n),y:i+h*sin(n)}),n+=TAU/e;const o=s/e,c=[];for(let t=0;t<e;t+=1)for(let i=0;i<o;i+=1){const s=lerp(r[t].x,r[(t+1)%r.length].x,i/o),e=lerp(r[t].y,r[(t+1)%r.length].y,i/o);c.push({x:s,y:e})}return c},J=(t,i,s)=>t.map(((e,h)=>lerp(t[h],i[h],s))),K=t=>[...t.substr(1)].reduce(((t,i,s,e)=>s%2?t.concat(parseInt(`${e[s-1]}${e[s]}`,16)):t),[]),X=(t,i)=>{const s=[],e=Math.ceil(i/t.length),h=1/e,n=t.map((t=>[...t.substr(1)].reduce(((t,i,s,e)=>s%2?t.concat(parseInt(`${e[s-1]}${e[s]}`,16)):t),[])));for(let t=0;t<n.length;t+=1)for(let i=0;i<e;i+=1){const e=n[t],r=n[(t+1)%n.length];s.push(J(e,r,(i+1)*h))}return s},Z=[["#bbbbbb","#000000","#444444","#999999","#ffffff"],["#090c02","#000000","#444444","#999999","#ffffff"],["#ff6700","#000000","#444444","#999999","#ffffff"],["#4f000b","#000000","#444444","#999999","#ffffff"]],tt=[["#50312F","#CB0000","#E4EA8C","#3F6C45"],["#000BFF","#FF008A","#FFF400","#FF008A"],["#F12F0E","#0ED0F1"],["#e63946","#a8dadc","#457b9d","#1d3557"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d90429"],["#000000","#14213d","#fca311","#e5e5e5","#ffffff"],["#ffbe0b","#8338ec","#3a86ff","#000000"],["#283d3b","#000000","#edddd4","#772e25"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d80032"],["#eb5e28","#fffcf2","#ccc5b9","#403d39","#252422"],["#ff6700","#ebebeb","#c0c0c0","#3a6ea5","#004e98"],["#b80c09","#0b4f6c","#01baef","#fbfbff","#040f16"],["#001427","#708d81","#f4d58d","#bf0603","#8d0801"],["#001524","#15616d","#ffecd1","#ff7d00","#78290f"],["#e0fbfc","#c2dfe3","#9db4c0","#5c6b73","#253237"],["#010000","#a74c00","#ffa100","#ffd300","#f1f2f1"],["#e6eed6","#dde2c6","#bbc5aa","#a72608","#090c02"],["#ffffff","#000000"],["#000000","#14213d","#fca311","#e5e5e5"],["#003f88","#00509d","#fdc500","#ffd500"],["#0d1b2a","#1b263b","#415a77","#778da9","#e0e1dd"],["#000000","#2f4550","#586f7c","#b8dbd9","#f4f4f9"],["#4f000b","#720026","#ce4257","#ff7f51","#ff9b54"],["#343838","#005F6B","#008C9E","#00B4CC","#00DFFC"],["#c9e4ca","#87bba2","#55828b","#3b6064","#364958"],["#6e44ff","#b892ff","#ffc2e2","#ff90b3","#ef7a85"],["#d9d9d9","#a6a6a6","#595959","#262626","#0d0d0d"],["#03738c","#037f8c","#04d9d9","#f28972","#f20505"],["#a6a6a6","#f2f2f2","#595959","#262626","#0d0d0d"],["#171526","#999df2","#8f9ad9","#b3bdf2","#5c6373"],["#32a65a","#84d9a2","#014005","#f2f2f2","#0d0d0d"],["#485922","#798c35","#b4bf5e","#242614","#f2f2f2"],["#314259","#d9843b","#73310a","#a64914","#0d0d0d"],["#0f5cbf","#072b59","#0f6dbf","#042940","#72dbf2"],["#f2bb13","#f28c0f","#d9a577","#a61b0f","#f2f2f2"],["#0468bf","#05aff2","#f2b705","#f28705","#bf3604"],["#d90d32","#d3d9a7","#f25116","#bf3111","#f2f2f2"],["#89b3d9","#f2e6d8","#d9985f","#59220e","#a64521"],["#69D2E7","#A7DBD8","#E0E4CC","#F38630","#FA6900"],["#594F4F","#547980","#45ADA8","#9DE0AD","#E5FCC2"],["#272643","#ffffff","#e3f6f5","#bae8e8","#2c698d"],["#27104e","#64379f","#9854cb","#ddacf5","#75e8e7"],["#f7a400","#3a9efd","#3e4491","#292a73","#1a1b4b"],["#343090","#5f59f7","#6592fd","#44c2fd","#8c61ff"],["#eeeeee","#00adb5","#393e46","#222831"],["#40514e","#11999e","#30e3ca","#e4f9f5"]],it=Number.EPSILON,st={Yt:function(t){return t},Gt:function(t){return t*t},Jt:function(t){return-t*(t-2)},Kt:function(t){return t<.5?2*t*t:-2*t*t+4*t-1},Xt:function(t){return t*t*t},Zt:function(t){var i=t-1;return i*i*i+1},ti:function(t){if(t<.5)return 4*t*t*t;var i=2*t-2;return.5*i*i*i+1},ii:function(t){return t*t*t*t},si:function(t){var i=t-1;return i*i*i*(1-t)+1},ei:function(t){if(t<.5)return 8*t*t*t*t;var i=t-1;return-8*i*i*i*i+1},hi:function(t){return t*t*t*t*t},ni:function(t){var i=t-1;return i*i*i*i*i+1},ri:function(t){return sin((t-1)*HALF_PI)+1},oi:function(t){return sin(t*HALF_PI)},ci:function(t){return 1-sqrt(1-t*t)},ai:function(t){return sqrt((2-t)*t)},fi:function(t){return t*t*t-t*sin(t*PI)},ui:function(t){var i=1-t;return 1-(i*i*i-i*sin(i*PI))},li:function(t){return t<4/11?121*t*t/16:t<8/11?9.075*t*t-9.9*t+3.4:t<.9?4356/361*t*t-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},di:function(t,i){i||(i=.25);var s=0-16*(i=max(i,0+it)),e=exp(-8*exp(s*t)),h=exp(-8*exp(s)),n=exp(-8);return map(e,n,h,0,1)},pi:function(t,i,s){return i||(i=.25),s||(s=.75),i=constrain(i,0+it,1-it),s=constrain(s,0,1),t<=i?s/i*t:s+(1-s)/(1-i)*(t-i)},bi:function(t,i,s,e,h){return i||(i=.25),s||(s=.75),e||(e=.75),h||(h=.25),i<e?t<=i?map(t,0,i,0,s):t>=e?map(t,e,1,h,1):map(t,i,e,s,h):t<=e?map(t,0,e,0,h):t>=i?map(t,i,1,s,1):map(t,e,i,h,s)},mi:function(t,i){return i||(i=.75),i=1-(i=constrain(i,0+it,1-it)),t<=.5?pow(2*t,1/i)/2:1-pow(2*(1-t),1/i)/2},gi:function(t,i,s){i||(i=.75),s||(s=.5),i=1-(i=constrain(i,0+it,1-it));var e=max(0,min(1,t-(s-.5)));return e<=.5?pow(2*e,1/i)/2:1-pow(2*(1-e),1/i)/2},wi:function(t){return t<=.5?sq(2*t)/2:1-sq(2*(t-1))/2},qi:function(t,i,s){return i||(i=.25),s||(s=.75),t<=(i=constrain(i,0+it,1-it))?s/i*sqrt(sq(i)-sq(t-i)):1-(1-s)/(1-i)*sqrt(sq(1-i)-sq(t-i))},xi:function(t,i,s){return i||(i=.25),s||(s=.75),i=constrain(i,0+it,1-it),s=constrain(s,0,1),t<=i?s-s*pow(1-t/i,3):s+(1-s)*pow((t-i)/(1-i),3)},Ii:function(t,i){return i||(i=.25),t<=i?i-sqrt(i*i-t*t):i+sqrt(sq(1-i)-sq(t-1))},Ei:function(t,i,s){i||(i=.25),s||(s=3);var e=max(2,2*s);return t<=i?i-pow(pow(i,e)-pow(t,e),1/e):i+pow(pow(1-i,e)-pow(t-1,e),1/e)},Fi:function(t,i,s,e,h){i||(i=.25),s||(s=.75),e||(e=.75),h||(h=.25);var n=(i+e)/2,r=(s+h)/2;n=constrain(n,it,1-it),r=constrain(r,it,1-it);var o,c,a,f,u,l=0;return t<=n?(a=t/n,u=s/r,0==(o=1-2*(f=i/n))&&(o=it),l=(c=(sqrt(f*f+o*a)-f)/o)*c*(1-2*u)+2*u*c,l*=r):(a=(t-n)/(1-n),u=(h-r)/(1-r),0==(o=1-2*(f=(e-n)/(1-n)))&&(o=it),l=(c=(sqrt(f*f+o*a)-f)/o)*c*(1-2*u)+2*u*c,l*=1-r,l+=r),l},vi:function(t,i,s){return i||(i=.25),s||(s=.75),t<=i?i<=0?0:s*(1-sqrt(sq(i)-sq(t))/i):i>=1?1:s+(1-s)/(1-i)*sqrt(sq(1-i)-sq(t-1))},ki:function(t,i,s){var e;return i||(i=.25),s||(s=.75),s=1-s,t<=i?i<=0?0:s*t+(1-s)*i*(1-(e=1-t/i)*e*e):i>=1?1:s*t+(1-s)*(i+(1-i)*(e=(t-i)/(1-i))*e*e)},Ai:function(t){return(1-cos(PI*t))/2},yi:function(t){var i=t*t,s=i*i;return 4/9*(s*i)-17/9*s+22/9*i},Ci:function(t){for(var i=1,s=(t*=PI)*t,e=1,h=1,n=i,r=0;r<6;r++)h*=2*r+1,n+=(e=0-e)*((i*=s)/(h*=2*r+2));return(1-n)/2},Si:function(t,i,s){i||(i=.25),s||(s=.75);var e=t*t;return constrain((-.5*i+.5*s-1.5)*t*e+(i-.5*s+2)*e+(-.5*i+.5)*t,0,1)},Pi:function(t,i,s,e,h){i||(i=.25),s||(s=.75),e||(e=.75),h||(h=.25);var n,r,o=map(e,0,1,-1,1),c=map(h,0,1,-1,1),a=t*t,f=a*t;return n=(0-2*(i-.5))*(1+c)*(1-o)/2,r=1*(1+c)*(1-o)/2,0*(2*f-3*a+1)+(f-2*a+t)*(n+=1*(1-c)*(1-o)/2)+(f-a)*(r+=(s-1)*(1-c)*(1-o)/2)+1*(-2*f+3*a)},Oi:function(t){var i=map(t,0,1,-2,2),s=i*i,e=8*(PI-3)/(3*PI*(4-PI)),h=sqrt(1-exp(0-s*((e*s+4/PI)/(e*s+1))));return i<0&&(h=0-h),(1+(h/=.99532226501))/2},Mi:function(t){var i=.99532226501,s=map(t,0,1,-i,i),e=s*s,h=8*(PI-3)/(3*PI*(4-PI)),n=2/(PI*h)+log(1-e)/2,r=log(1-e)/h,o=sqrt(sqrt(n*n-r)-n);return s<0&&(o=0-o),o/=2,o+=1,o/=2,constrain(o,0,1)},Di:function(t,i){return i||(i=.25),(i=constrain(i,0+it,1-it))<.5?(i*=2,pow(t,i)):(i=2*(i-.5),pow(t,1/(1-i)))},Ti:function(t){for(var i=.5,s=0;s<6;s++)i=(i+t/i)/2;return i},zi:function(t,i){return i||(i=.25),i=constrain(i,0+it,1-it),t<=.5?pow(2*t,1-i)/2:1-pow(2*(1-t),1-i)/2},Ri:function(t,i,s){i||(i=.25),s||(s=.75),i=constrain(i,0,1),s=constrain(s,0,1),.5===i&&(i+=it);var e=1-2*i,h=(sqrt(i*i+e*t)-i)/e;return h*h*(1-2*s)+2*s*h},Ni:function(t,i,s){i||(i=.25),s||(s=.75),i=constrain(i,0+it,1-it);var e=(1-(s=constrain(s,0,1)))/(1-i)-s/i;return constrain(e*(t*t)-(e*(i*i)-s)/i*t,0,1)},Ui:function(t,i){return i||(i=.25),t<=(i=constrain(i,0,1))?sqrt(sq(i)-sq(t-i)):1-sqrt(sq(1-i)-sq(t-i))},Li:function(t,i){i||(i=.25),i=1/(1-(i=constrain(i,0+it,1-it)))-1,i*=5;var s=1/(1+exp(0-(t-.5)*i)),e=1/(1+exp(.5*i)),h=1/(1+exp(-.5*i));return map(s,e,h,0,1)},Bi:function(t,i){i||(i=.25),i=1/(1-(i=constrain(i,0+it,1-it)))-1,i*=5;var s=1/(1+exp(.5*i)),e=1/(1+exp(-.5*i));t=map(t,0,1,s,e);var h=log(t/(1-t));return h*=1/i,h+=.5,constrain(h,0,1)},Wi:function(t,i,s){i||(i=.25),s||(s=.75);var e=t*t*(1-2*(i=1-(i=constrain(i,0,1))))+2*i*t;return e*e*(1-2*(s=constrain(s,0,1)))+2*s*e}},et=function(t,i,s){for(var e=new Float64Array(i),h=0;h<i;h++){var n=h/(i-1);e[h]=st[t](n,s)}return e};