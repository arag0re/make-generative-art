let _id=parseInt(tokenData.tokenId.slice(-5)),seed=parseInt(tokenData.hash.slice(0,16),16);class Random{constructor(t){this.seed=t}r_d(){return this.seed^=this.seed<<13,this.seed^=this.seed>>17,this.seed^=this.seed<<5,(this.seed<0?1+~this.seed:this.seed)%1e3/1e3}r_b(t,e){return t+(e-t)*this.r_d()}r_i(t,e){return Math.floor(this.r_b(t,e+1))}r_c(t){return t[Math.floor(this.r_b(0,.99*t.length))]}}let R=new Random(seed),c5=["#A16C60","#441C12","#E9BDB3"],c6=["#ff0000","#1c1c1c","#cc0000"],c7=["#C3DFF0","#DFECF4","#C9EBFF"],colors=[["#Fe514e","#FDBd21","#4461Cd"],["#996757","#eecb20","#4f9eb6"],["#f6b50f","#15a16a","#f1594b"],["#eeeeee","#2c2c2c","#1c1c1c"],["#819498","#e1990e","#fcddc6"],["#e6ecce","#c47c2a","#586a7c"],["#BC99B7","#f1e8bd","#7DD094"],["#fab58f","#fa6556","#c8eec1"],["#465b61","#7b999d","#faaf3d"],["#F99851","#583C39","#53C4C2"],["#35AA84","#033551","#Fb3E21"],["#e29041","#116382","#DD4C2a"],["#e4937b","#c93f2d","#f5cca7"],["#7C3AD0","#39363D","#c8E8E8"],["#ea6c36","#614a54","#e6ac51"],["#6c5c6f","#4b2839","#d8574b"],["#c13a53","#383C39","#eed09e"],["#EDC070","#7B9FB0","#EEDBC0"],["#fee7bc","#ff7a5a","#705aa1"],["#eeeeee","#222222","#D81D00"],["#DA2CA9","#1c1c1c","#382C35"],["#1FCDCD","#1c1c1c","#283232"],["#1FDB1F","#1c1c1c","#2D382D"],["#DC2626","#dddddd","#dddddd"],["#2828D1","#dddddd","#dddddd"],["#87CEFB","#2F2D2C","#F2D56F"],["#DC2626","#2828D1","#eeeeee"],["#dddddd","#eeeeee","#cccccc"],["#333333","#282828","#222222"]];var fgt,_bg,wi,am,sp,lg,party,tx1,tx2,_b,_e,_h,_m,_w,_l,_bb,_ee,_hh,_mm,_ww,_ll,db,dir,cp,tw,tiny,segs=[b1,b2,b3,b4],cclr=R.r_c(colors),bgt=R.r_i(0,2),ps=[],ts=[],tx=[],ty=[],tz=[],tr=[],but=0,orbc=0,orb=1,_fr=0,_fr2=0,rot=1,tl=0,deg=0,sm=Math.floor(Math.min(window.innerWidth,window.innerHeight))-50,i1=120,i2=50,_s=sm/10,psp=sm/2,rnd=[],jts=[],cols=[],cts=[],scs=[];function setup(){for(createCanvas(sm,sm,WEBGL),frameRate(30),angleMode(DEGREES),strokeWeight(sm/700),wi=R.r_i(0,100)>98&&_id>10?1:0,db=R.r_i(0,100)>75?1:0,5==(am=1==db?5:0)&&15==(am=R.r_i(0,100)>50?15:5)&&(am=R.r_i(0,100)>95?60:15),party=R.r_i(0,100)>99&&_id>10?1:0,tiny=R.r_i(0,100)>99&&_id>10?1:0,cp=R.r_i(0,100)>99&&_id>10?1:0,tw=R.r_i(0,100)>75?1:0,cp&&(_s=sm/15),lg=party?0:1,_b=_bb=R.r_i(0,7),_e=_ee=R.r_i(0,8),_h=_hh=R.r_i(0,10),_m=_mm=R.r_i(0,5),_a=_aa=R.r_i(0,3),_w=_ww=R.r_i(0,16),_l=_ll=R.r_i(0,4),dir=R.r_i(0,100)<50?1:-1,tiny&&(_s*=.3,_h=_hh=12,_w=_ww=9,_m=_mm=9),_bg=lc(cclr[bgt=wi?0:bgt],-9),background(_bg),a=0;a<30;a++)rnd.push(R.r_b(0,1)),jts.push(R.r_i(-10,10)),cols.push(R.r_i(0,2)),cts.push(R.r_i(0,5)),scs.push(R.r_b(.5,1.5));switch(sp=R.r_i(0,99)>50?.07:.15,R.r_i(0,99)>97&&(sp=.01),R.r_i(0,99)>98&&_id>10&&(sp=3),tx1=R.r_i(0,4),tx2=R.r_i(0,2),t1=createGraphics(sm,sm),t1.noStroke(),t1.angleMode(DEGREES),t1.rectMode(CENTER),wi?t1.background(0,0):t1.background(cclr[fgt]),wi?t1.noFill():t1.fill(cclr[bgt]),tx1){case 0:t1.ellipse(sm/2,sm/2,sm/10,sm/5);break;case 1:t1.ellipse(sm/2,sm/2,sm/10,sm/5),wi?t1.noFill():t1.fill(cclr[fgt]),t1.ellipse(sm/1.95,sm/2.05,sm/30,sm/15);break;case 2:t1.rect(sm/2,sm/2,sm/4,sm/20);break;case 3:t1.rect(sm/2,sm/2,sm/20,sm/4),t1.circle(sm/2,sm/2-sm/8,sm/20,sm/15),t1.circle(sm/2,sm/2+sm/8,sm/20,sm/15),wi?t1.noFill():t1.fill(cclr[fgt]),t1.ellipse(sm/2,sm/2.1,sm/30,sm/10);break;case 4:t1.translate(sm/2,sm/2),t1.rotate(60),t1.rect(0,0,sm/6,sm/40,.1*sm),t1.rotate(-120),t1.rect(0,0,sm/6,sm/40,.1*sm)}switch(t2=createGraphics(sm,sm/2),wi?t2.background(0,0):t2.background(cclr[1]),wi?t2.noFill():t2.fill(cclr[0]),wi?t2.noStroke():t2.stroke(cclr[0]),tx2){case 0:t2.strokeWeight(sm/40);for(var t=sm/8,e=sm/20;e<=sm;e+=sm/10)for(var r=0;r<=sm;r+=sm/10)t2.line(e+t,r+t,e-t,r-t);break;case 1:t=sm/40;for(var a=0;a<41;a++){for(var s=0;s<21;s++)t2.ellipse(0,0,t,t),t2.translate(0,2*t);t2.translate(2*t,-sm-2*t)}break;default:t2.strokeWeight(sm/20);for(e=sm/20;e<=sm;e+=sm/10)t2.line(e,0,e,sm)}t3=createGraphics(sm,sm/2),wi?t3.background(0,0):t3.background(cclr[1]),wi?t3.noFill():t3.fill(cclr[0]),wi?t3.noStroke():t3.stroke(cclr[0]),t3.strokeWeight(sm/10);for(e=0;e<=sm;e+=sm/5)t3.line(e,0,e,sm);for(a=0;a<am;a++)ps.push(R.r_c(segs)),ts.push(R.r_i(.1*sm,.01*sm)),tx.push(R.r_i(-psp,psp)),ty.push(R.r_i(-psp,psp)),tz.push(R.r_i(-psp,psp)),tr.push(R.r_i(0,360))}function draw(){lg?ambientLight(220):ambientLight(20),pointLight(i1,i1,i1,sm/3,-sm,sm/2),pointLight(i2,i2,i2,sm/4,-sm/3,sm/20),pointLight(i2,i2,i2,-sm/4,-sm/6,0),pointLight(i2,i2,i2,-sm/10,sm,sm/10),tl||(lg?background(_bg):background(lc(cclr[bgt],-15))),orbc&&orbitControl(1,1,.05),but&&deg>-90&&(deg-=10),!but&&deg<0&&(deg+=10),rotateX(deg),orb&&_fr++,rot&&(_fr2+=.5),wi?(stroke(lc(cclr[0],-50)),"#333333"==cclr[0]&&stroke("#eeeeee"),noFill()):(noStroke(),fill(cclr[0]));for(var r=0;r<am;r++)push(),fl(r%3),r%3==0?rotateZ(_fr*sp+tr[r]):rotateZ(_fr*-sp),r%3==1?rotateY(_fr*sp/2+tr[r]):rotateY(_fr*-sp/2+tr[r]),r%3==2?rotateX(_fr*sp):rotateX(tr[r]),translate(tx[r],ty[r],tz[r]),ps[r](.8*ts[r]),pop();for(rotateY(_fr*sp*dir),rnd[7]>.5&&3==sp&&rotateZ(_fr*dir),f=0;f<=cp;f++){switch(push(),cp?translate(3*_s*(2*f-1),_s/2,0):translate(0,_s/2,0),0==f||tw?(_b=_bb,_e=_ee,_h=_hh,_m=_mm,_a=_aa,_w=_ww,_l=_ll):(_b=(_bb+cts[0])%8,_e=(_ee+cts[1])%9,_h=(_hh+cts[2])%11,_m=(_mm+cts[0])%6,_a=(_aa+cts[1])%4,_w=(_ww+cts[2])%15,_l=(_ll+cts[0])%5),push(),fl(cols[0]),translate(0,4*-_s,0),h(2*_s),pop(),push(),fl((cols[0]+1)%3),translate(0,2*-_s,0),e(_s),pop(),fl((cols[0]+2)%3),push(),m(_s),pop(),push(),fl(fgt),w(_s),pop(),push(),b(_s),pop(),3==_b&&0==_a&&(_a=cols[3]+1),fl(cols[2]),_a){case 0:sphere(_s,3,2);break;case 1:wi?sphere(_s/.8,16,6):sphere(_s/.8,50,50),translate(0,-_s/.8,0),o(_s/1.2);break;case 2:push(),o(_s/2.4),rotateY(_fr2),t(1.3*_s,_s/30),rotateX(90),t(1.3*_s,_s/30),pop();break;case 3:push();var a=1.1*_s;t(a,_s/20),rotateX(90),t(a,_s/20),rotateY(90),t(a,_s/20),texture(t2),rotateZ(90),rotateY(_fr2),o(_s/2.1),pop()}pop()}lg=party&&!wi&&rot&&random()>.2?0:1}function e(e){var r=cts[3],a=e*scs[3];switch(_e){case 0:r>3&&(r=1),rotateY(180),box(a*r,e/15,e/15),texture(t1),translate(-a/2*r,0,0);for(var s=0;s<=r;s++)o(Math.abs(e*jts[s]*.1)),translate(a,0,0);break;case 1:r>1&&(r=1),a=1.2*e,translate(-a/2*r,0,0);for(s=0;s<=r;s++){1==s?e*=rnd[1]+.5:e=e;var c=2*s-1;push(),rotateY(15*c*cols[2]),box(e),translate(0,0,e/2),rotateY(180),texture(t1),o(e/3),pop(),translate(a,0,0)}break;case 2:a=2.2*(e*=.7),translate(-a/2,0,0);for(s=0;s<=1;s++){c=e+e*jts[s]*.03;push(),texture(t1),rotateY(180),o(.7*c),pop(),t(c,e/7),translate(a,0,0)}translate(c-a-c/2+e/7,-c/2-e/7,0),rotateX(90),rotateY(-45),t(e/3,e/10);break;case 3:r++,fl(bgt),rotateZ(-90),push(),fl(fgt),translate(0,0,e/4*scs[1]),rotateY(-15),box(e/3*scs[1],e*r/1.2,e/3*scs[1]),fl(bgt),translate(e/20*scs[1],e*r/1.2/3,e/100),box(e/20*scs[1],e/3*scs[1],e/3*scs[1]),pop(),p(e/3*scs[1],e*r),translate(0,-e*r/2,0),o(e/3*scs[1]),translate(0,e*r,0),o(e/3*scs[1]);break;case 4:r++,rotateZ(5*sin(2*_fr2)-90),rotateY(180),p(e/8*scs[1],e*r),texture(t1),translate(0,-e*r/2,-e/10),o(e/2*scs[1]),translate(0,e*r,0),o(e/2*scs[1]);break;case 5:o(.7*e),rnd[7]>.5?rotateZ(180):e=e;for(s=0;s<=1;s++){1==s&&rnd[1]>.3?e*=.7:e=e;c=2*s-1;push(),translate(c*e*(.2*rnd[2]+.7),0,e),rotateY(30*c),rnd[5]>.3?t(e/(2-rnd[4]),e/15):t(e/2,e/15),rotateX(-90),translate(0,.5*e,0),cone(e/2,e),translate(0,.5*-e,0),texture(t1),rotateX(-90),o(e/6),pop()}break;case 6:r=2*(r%3+1),e*=2,translate(0,-e/2,0),rotateZ(180);for(s=0;s<r;s++)push(),translate(0,-e/2,0),rotateX(90),rotateZ(-15*(r-1)+30*s),rotateX(1*jts[s]),translate(0,e/2,0),p(e/80,e),translate(0,e/2,0),texture(t1),rotateX(90),o(e/8),pop();translate(0,-e/2,0),o(e/3);break;case 7:rotateY(180),translate(0,e/8,0),texture(t1),o(1.1*e);break;case 8:translate(0,-e/2,0),r>1&&(r=1),a=e;var l=(e/=1.4)*(.7*rnd[3]+.2);translate(-a/2*r,0,0);for(s=0;s<=r;s++){c=2*s-1;push(),rnd[1]>.2?(rotateY(10*c*cols[2]),rotateX(10*c*cols[3])):rotateZ(45*c),fl(fgt),box(e),translate(0,0,e/2),fl(bgt),box(l,l,e/6),pop(),translate(a,0,0)}}}function b(e){var r=cts[4],a=e*scs[4];switch(_b){case 0:translate(0,1.5*e,0),cone(e,3*e,4);break;case 1:o(e),texture(t2),rotateZ(5*jts[5]),rotateY(_fr2/2),translate(0,e,0),o(1.5*e);break;case 2:r=4,a=3*(e*=.2);for(var s=0;s<=r;s++)for(var c=0;c<=1;c++)push(),0==c?translate(-a*s,jts[s]*e/10,0):translate(a*s,jts[s+1]*e/10,0),o(e*(5-s)),pop();l(5*e);break;case 3:rotateY(45),rotateX(30),box(1.4*e),l(e);break;case 4:translate(-e,0,0),t(e,e/10),translate(e,0,0),push(),rotateX(90),1!=tx2?texture(t2):texture(t3),rotateZ(_fr2),t(e,e/5),pop(),translate(e,0,0),t(e/1.5,e/10),translate(-e,0,0),o(.85*e),l(e);break;case 5:var n=rnd[0]+1,i=2*rnd[1]+2;rnd[10]<.5&&(rotateZ(90),n=3),ellipsoid(e/n,e*i,e/n,24,2),0==_l&&(_l=4),rotateZ(-90),rnd[10]<.5?l(e):rnd[11]<.5&&l(e);break;case 6:fl(fgt),rotateZ(-30),wi?cylinder(e/1.2,e/20):cylinder(1.5*e,e/10,50,1),rotateZ(60),wi?cylinder(e/1.2,e/20):cylinder(1.5*e,e/10,50,1),rotateZ(-30),_l=0==_l?4:_l,l(e);break;case 7:translate(0,e/4,0),p(e/3*scs[1],4*e),translate(0,2*-e,0),o(e/3*scs[1]),translate(0,4*e,0),o(e/3*scs[1])}}function h(e){var r=cts[5];scs[5];switch(_h){case 0:r+=2;var a=15;rnd[3]<.5&&rotateY(180),rnd[4]<.2&&(r*=10,a=4);for(var s=0;s<=r;s++)translate(0,e,0),rotateZ(a),translate(0,-e,0),p(e/30,e/1.5);break;case 1:translate(0,e/4,0),e/=2,rotateY(-_fr2),r%2==0?rotateZ(0):rotateZ(45),box(e/4,e,e/4),rotateZ(90),box(e/4,e,e/4);break;case 2:translate(0,e/8,0),rotateZ(180);for(s=0;s<=r;s++)push(),translate(0,-e/2,0),rotateZ(12*(s-r/2)),rotateX(3*jts[s]),rotateY(jts[s+3]),translate(0,e/2,0),p(e/80,e),pop();translate(0,-e/2,0),o(e/10);break;case 3:translate(0,e/2,0),o(e/6),translate(e/6,-e/10,0),o(e/8),translate(-e/6,-e/5,0),o(e/10);break;case 4:translate(0,e/4,0),e/=8;for(s=0;s<=r;s++)rotateY(30),rotateZ(60),box(e/4,6*e,e/4);texture(t2),rotateY(_fr2),o(e);break;case 5:translate(0,e/4,0),texture(t3),rotateY(_fr2),rotateX(90),t(e/3,e/40),rotateX(90),rotateZ(_fr2),t(e/16,e/40);break;case 6:e/=2,translate(0,1.5*e,0),rotateY(-_fr2);var c=e/10;box(c,4*e,c),translate(-e/2,2*-e+c/2,0),box(e,c,c),translate(-e/2,e/2-c/2,0),box(c,e,c),translate(0,e/2,0),texture(t1),rotateY(180-2*_fr2),o(e/3);break;case 7:fl(fgt),translate(0,e/2,0),box(e/30,2*e,e/30),translate(0,-e/2,0);var l=-cos(2*_fr2)*e/4+e/8;translate(0,l,0),push(),rotateY(60),ellipsoid(e/6,e/4,e/6,3,2),pop(),fl(bgt),translate(0,0,e/16),o(e/14);break;case 8:translate(0,e/4,0),p(e/30,e),rotateY(45+_fr2),t(e/12,e/20),rotateX(90),p(e/50,e),rotateZ(90),p(e/50,e);break;case 9:translate(0,e/1.5,0),p(e/30,2*e),translate(0,-e,0),o(e/30),translate(0,e/4,0),rotateX(90),fl(fgt),t(e/10,e/15);break;case 10:e/=2,translate(0,2*e,0),p(e/10,4*e),translate(0,2*-e,0),o(e/10),rotateX(90),rnd[0]>.5?rotateZ(180):r=r;for(s=0;s<3;s++)translate(0,0,-e/4),rotateY(10),t(e/4,e/20),rotateY(-10)}}function m(e){var r=cts[6],a=e*scs[6];switch(_m){case 0:r*=2,rotateX(-7),translate(-r*e/12,-e/.8,e/2);for(var s=0;s<=r;s++)box(e/8,e/8,1.5*e),translate(e/6,0,0);break;case 1:translate(0,-e/.74,.6*e),t(e/4,e/10);break;case 2:e/=1.2,translate(0,-e/.8,e),rotateZ(90);for(s=-1;s<=1;s+=2)push(),translate(0,s*e,0),o(e/5),pop();p(e/5,2*e),translate(e/5,0,0);for(s=-1;s<=1;s+=2)push(),translate(0,s*e,0),o(e/5),pop();p(e/5,2*e);break;case 3:translate(0,-e/.8,e),box(e/2.5*(r+1),e/4,e/4),translate(-r*e/6,e/5,e/20),rotateX(95);for(s=0;s<=r;s++)p(e/5,e/10),translate(e/3,e/10*(s%2*2-1),0);break;case 4:translate(0,-e-e/10,e),rotateX(50),o(e/3),translate(0,e/4,0),box(e/2,e,e/20),translate(0,e/2,0),rotateX(90),p(e/4,e/20);break;case 5:translate(0,-e/2,0),rotateX(90),r=3,a=e/10;for(s=0;s<=r;s++)fl(2==s?fgt:bgt),translate(0,0,2*a),t(e,a)}}function w(e){var r=cts[7];switch(_w){case 0:arc(0,0,7*e,7*e,-30,10,PIE),arc(0,0,7*e,7*e,160,200,PIE);break;case 1:rotateZ(100),p(e/20,8*e),rotateZ(-30),p(e/10,8*e);break;case 2:translate(0,-e/.75,e/2),rotateX(95),p(e/6,2*e);break;case 3:translate(-e,3*-e,e/2),rotateZ(-30),box(1.5*e,e/8,e/8),rotateZ(60),translate(2*e,-e/2,0),box(e,e/8,e/8);break;case 4:t(e,.7*e);break;case 5:r+=1,rotateX(90);for(var a=0;a<=r;a++)p(e/8,4*e),rotateZ(360/r/2);break;case 6:rotateZ(45),r=40;for(a=0;a<=r;a++)p(e/40,5*e),rotateZ(360/r/2);break;case 7:rotateX(90),rotateZ(_fr2/2),texture(t3),t(3*e,e/10);break;case 8:rotateZ(30),translate(0,-e/2,0),p(e/15,6*e),translate(0,2*-e,0),rotateX(90),box(e,e/10,e/10)}}function l(e){switch(_l){case 0:rotateX(-15),translate(0,1.5*e,0),p(e/4,2*e),translate(0,e,0),texture(t3),rotateY(-_fr2),cone(e/2,e);break;case 1:translate(0,1.5*e,0),p(e/6,2*e),fl(fgt),translate(0,.9*e,0),box(.7*e);break;case 2:translate(0,1.5*e,0),p(e/4,2.5*e),rotateX(-90),fl(fgt),translate(0,0,e/2);for(var r=1;r<=4;r++)torus(e/4,e/10,20,3),translate(0,0,e/6);break;case 3:translate(0,2*e,0),cone(e/4,2*e),translate(0,e/5-e,0),rotateX(90),texture(t3),rotateZ(_fr2),t(e/4,e/10);break;case 4:fl(fgt),translate(0,e,0),p(e/10,3*e),translate(0,e/2,0),rotateX(90),rnd[0]>.5&&rotateZ(180);for(r=0;r<5;r++)translate(0,0,-e/4),rotateY(10),t(e/4,e/20),rotateY(-10)}}function fl(t){wi?noFill():fill(cclr[t])}function o(t){wi?sphere(t,8,4):sphere(t,30,30)}function t(t,e){wi?torus(t,e,10,4):torus(t,e,40,40)}function p(t,e){wi?cylinder(t,e,6,3):cylinder(t,e)}function b1(t){box(t/4,t/4,2*t)}function b2(t){box(t/4,t/4,t/4)}function b3(t){o(t/2)}function b4(t){torus(t/2,t/8,6,3)}function keyTyped(){"p"==key?orb=orb?0:1:"t"==key?tl=tl?0:1:"r"==key?camera():"0"==key?rot=rot?0:1:"o"==key&&(but=but?0:1)}function touchStarted(t){orbc=1}function lc(t,e){var r=parseInt(t.replace("#",""),16),a=Math.round(2.55*e),s=(r>>16)+a,o=(r>>8&255)+a,c=(255&r)+a;return"#"+(16777216+65536*(s<255?s<1?0:s:255)+256*(o<255?o<1?0:o:255)+(c<255?c<1?0:c:255)).toString(16).slice(1)}55!=_id&&555!=_id||(cclr=c5),66!=_id&&666!=_id||(cclr=c6),77!=_id&&777!=_id||(cclr=c7),fgt=0==bgt?1:0;