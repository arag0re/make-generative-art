let rw=su(tokenData),s=gs(tokenData),d={hyper:rw[1]<.03,type:wP(["p","c","f"],[1,2,17],rw[2]),colors:wP([["#aa9387","#fdf1d3","#f7bfb1","#f19d54","#a16f5c"],["#fac901","#225095","#dd0100","#ffffff"],["#d8e0bb","#b6cec7","#86a3c3","#7268a6","#6b3074"],["#173F5F","#20639B","#3CAEA3","#f6d55c","#ed553b"],["#5f0f40","#9a031e","#fb8b24","#e36414","#0f4c5c"],["#f18c8e","#f0b7a4","#f1d1b5","#568ea6","#305f72"],["#fffcf2","#ccc5b9","#403d39","#252422","#eb5e28"],["#322c4d","#cfc4ff","#f5b649","#19211e","#303757"],["#0e0e1b","#204829","#22b455","#80ce87","#92e5a1"]],[3,3,3,3,2,1,1,1,1],rw[3]),paper:wP(["#363333","#FAF5E8","#F3EEDF","#F2EAD0","#D0CBBA","#FAEDCD"],[1,1,1,1,1,1],rw[4]),ppl:wP([3,2,1],[1,3,21],rw[5])};function makeP(t){return{lE:rw[6+t]<.9,rE:rw[7+t]<.9,m:rw[8+t]<.6,lA:rw[9+t]<.7,rA:rw[10+t]<.7,lAH:rw[11+t]<.2,rAH:rw[12+t]<.2}}let bC,bg,sC,fC,rz,w,v,sW,e,ci,st,ps=[],wV=[],cs=[],n=1e3;function setup(){w=min(windowWidth,windowHeight),v=vertex,st=stroke,sW=strokeWeight,e=ellipse,ci=circle,createCanvas(w,w),rz=w/1e3,noiseSeed(s);for(let t=0;t<d.ppl;t++)d.i=makeP(7*t),ps.push(new P(ra(w/2)+w/4,w-200*rz,100,100,d.i.lE,d.i.rE,d.i.m,d.i.lA,d.i.rA,d.i.lAH,d.i.rAH,500,300,50,50,50,50,50,1e3*t,0));if(print(tokenData.hash,d),sW(1*rz),bg=pi(d.colors),d.colors.splice(d.colors.indexOf(bg),1),sC=pi(d.colors),bC=pi(d.colors),fC=pi([bg,pi(d.colors)]),"c"==d.type)for(let t=0;t<250;t++)ps.unshift(new P(ra(w),w-w/250*t,ra(15)+10,ra(15)+20,rnd()>1e-4,rnd()>1e-4,0,0,0,0,0,50,30,5,5,0,0,0,10*t,0));else if("f"==d.type){for(let t=0;t<1;t++)wV.push([ra(w/2),ra(20),(ra(3)+2)*rz,ra(60)*rz,ra(50)*rz,(ra(10)+2)*rz,ra(300)*rz]);for(let t=0;t<30*noise(10);t++)cs.push([ra(w),ra(w),ra(80)*rz,pi(d.colors)])}else if("p"==d.type){n=300;let t=1;for(let s=0;s<3;s++)t+=rnd()>1/2**s;for(let s=0;s<t;s++){let t=ra(3*w/4)+w/8,s=ra(4*w/5)+w/10,r=(ra(200)+80)*rz,i=r+(120+ra(300))*rz,e=r-ra(3*r/4)*rz;cs.push([ra(3*w/4)+w/8,ra(4*w/5)+w/10,(ra(200)+80)*rz,ra(PI/2),rnd()>.7,max(i,e),min(i,e)]);for(let i of cs)dist(t,s,i[0],i[1])<r&&t!=i[0]&&s!=i[1]&&cs.splice(cs.length-1,1);ps[0].rot=ra(TAU),ps[0].x=w/2,ps[0].y=w/2}}}function draw(){if(background(bg),"f"==d.type){for(let t of wV)wL(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);for(let t of cs)fill(t[3]),ci(t[0],t[1],2*t[2])}else"p"==d.type&&(dP(),fill(sC),e(w/2,w,2*w,w/2));for(let t of ps)t.draw(),t.t+=.002,d.hyper&&(t.t+=.009);dB()}function dB(){push(),fill(d.paper),beginShape(),v(0,0),v(w,0),v(w,w),v(0,w),beginContour(),v(w-80*rz,w-80*rz),v(w-80*rz,80*rz),v(80*rz,80*rz),v(80*rz,w-80*rz),endContour(),endShape(CLOSE),pop()}function wL(t,s,r,i,e,h,l){push(),fill(sC),noStroke(),translate(t,0);for(let t=-e*s;t<w+e*s;t+=h)for(let h=0;h<s;h+=1)ci(100*sin(t/l+frameCount/200)*rz+h*i,t+h*e,2*r);pop()}function dP(t){for(let t of cs){push();let s=t[2],r=t[5],i=t[6];translate(t[0],t[1]),fill(bg),ci(0,0,s+8*rz),fill(sC),ci(0,0,s),t[4]&&(rotate(-t[3]),push(),noFill(),sW(32*rz),st(0),e(0,0,r,i),sW(30*rz),st(bg),e(0,0,r,i),sW(15*rz),st(sC),e(0,0,r,i),pop(),fill(bg),arc(0,0,s+8*rz,s+8*rz,PI,TAU),fill(sC),arc(0,0,s,s,PI-.01,TAU+.01),noStroke(),arc(0,-2*rz,s-15,s-15,PI,TAU)),pop()}}class P{constructor(t,s,r,i,e,h,l,n,f,o,a,p,c,w,d,u,b,z,A,N){this.x=t,this.y=s,this.b=r,this.h=i,this.lE=e,this.rE=h,this.m=l,this.lA=n,this.rA=f,this.lAH=o,this.rAH=a,this.hN=p,this.bN=c,this.rEN=w,this.lEN=d,this.mN=u,this.lAN=b,this.rAN=z,this.nO=A,this.rot=N,this.t=0,this.p=[[0,2.8,0],[0,2.8,0],[-1,3,0],[-1,2,0],[-.75,1,0],[-.5,-.25,0],[-.4,-.75,1],[-.75,-1.5,1],[-.45,-2.3,1],[0,-2.5,1]];for(let t=this.p.length-2;t>=0;t--)this.p.push([-this.p[t][0],this.p[t][1],this.p[t][2]]);this.lap=[[-.7,.7],[-.65,.4],[-.6,.2],[-.56,0]],this.rap=[[.56,0],[.6,.2],[.65,.4],[.7,.7]]}draw(){push(),translate(this.x,this.y),rotate(this.rot),fill(bC),beginShape();for(let t=0;t<this.p.length;t++){let s=this.p[t][2],r=s?this.h:this.b,i=s?this.hN:this.bN;if(this.lA&&5==t)for(let t=0;t<this.lap.length;t++){let s=3;t>0&&t<3&&(s=10);let e=this.cN(this.lap[t][0],this.lap[t][1],r,i,this.lAN*s,0,this.t+this.nO);curveVertex(e[0],e[1])}if(this.rA&&14==t)for(let t=0;t<this.rap.length;t++){let s=3;t>0&&t<3&&(s=10);let e=this.cN(this.rap[t][0],this.rap[t][1],r,i,this.rAN*s,1,this.t+this.nO);curveVertex(e[0],e[1])}let e=this.cN(this.p[t][0],this.p[t][1],r,i,1,0,this.t+this.nO);curveVertex(e[0],e[1])}endShape(),fill(fC);let t=this.cN(-.3,-1.8,this.h,this.hN,this.lEN,0,this.t+this.nO);if(this.lE?ci(t[0],t[1],20*rz):this.xE(t[0],t[1],10*rz),t=this.cN(.3,-1.8,this.h,this.hN,this.rEN,0,this.t+this.nO),this.rE?ci(t[0],t[1],20*rz):this.xE(t[0],t[1],10*rz),this.m){let t=this.cN(0,-1.25,this.h,this.hN,this.mN,0,this.t+this.nO);ci(t[0],t[1],(70*noise(0)+2)*rz)}if(this.lA&&this.lAH){let t=this.cN(this.lap[2][0],this.lap[2][1],this.b,this.bN,10*this.lAN,0,this.t+this.nO);ci(t[0],t[1],40*rz)}if(this.rA&&this.rAH){let t=this.cN(this.rap[1][0],this.rap[1][1],this.b,this.bN,10*this.rAN,1,this.t+this.nO);ci(t[0],t[1],40*rz)}pop()}xE(t,s,r){push(),st(sC),sC==bC&&st(0),sW(4*rz),line(t-r/2,s-r/2,t+r/2,s+r/2),line(t+r/2,s-r/2,t-r/2,s+r/2),pop()}cN(t,s,r,i,e,h,l){let f=t*r,o=s*r,a=f+noise(f/n+10+h,o/n+10+this.nO,l)*(i+e)-i/2-e/2,p=o+noise(f/n+50+h,o/n+50+this.nO,l)*(i+e)-i/2-e/2;return[a*rz,p*rz]}}function su(t){let s=[];for(let r=0;r<32;r++)s.push(t.hash.slice(2+2*r,4+2*r));return s.map(t=>parseInt(t,16)/255)}function gs(t){return parseInt(t.hash.slice(0,16),16)}function rnd(){return s^=s<<13,s^=s>>17,((s^=s<<5)<0?1+~s:s)%1e3/1e3}function ra(t,s=-1){return-1===s&&(s=t,t=0),rnd()*(s-t)+t}function rF(t,s){return Math.floor(ra(t,s))}function wP(t,s,r){let i;for(i=0;i<s.length;i++)s[i]+=s[i-1]||0;var e=r*s[s.length-1];for(i=0;i<s.length&&!(s[i]>=e);i++);return t[i]}function pi(t){return t[rF(0,t.length)]}