(()=>{let t=[{t:1,a:[1,.1,.65,.6],n:1,e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.42267,y:1.3},{x:1,y:0}]]},{t:6,a:[3,0,2,2.5],n:1,e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.4610222100900474,y:.3563605625928328},{x:1,y:0}],[{x:0,y:0},{x:.8358430941264171,y:.3579463064848105},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:1,a:[1,.26,1,.4],n:1,e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.39501110086210955,y:-1.2377667402241672},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:1,a:[3,0,1.1],n:1,e:[[{x:0,y:0},{x:-.05353694827226807,y:.865555171584341},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.7554152453297225,y:.43456453842299103},{x:1,y:0}]]},{t:2,a:[1,0,1.6,2],n:1,e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.21598295484323593,y:.7861715627814503},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:2,a:[1,0,2,2],n:2,e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.07467601692513837,y:-.022822019423502926},{x:.16175442732856293,y:-.05731116695026672},{x:.547684345024384,y:.2549508647457878},{x:.5988714796718986,y:-.31531311228958536},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:2,a:[1,0,1.5,2],e:[[{x:0,y:0},{x:-.04366013240889527,y:-.6889805760347283},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.36688729223089855,y:-.16226660819316374},{x:1,y:0}]]},{t:25,a:[1,0,1.6,2],n:2,e:[[{x:0,y:0},{x:.9012181692074642,y:.5684035150915303},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.18735158654879314,y:1.0546610206912896},{x:1,y:0}]]},{t:26,a:[1,.116,.76],n:1,e:[[{x:0,y:0},{x:1.5882588201591359,y:-1.2495991825549029},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:4,a:[1,0,.752],n:1,e:[[{x:0,y:0},{x:1.647257216650234,y:-1.805811351735762},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.1664180896267995,y:1.6777892768239107},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:4,a:[5,0,1.85,2],n:1,e:[[{x:0,y:0},{x:.21612385568069037,y:1.9155203814938733},{x:1.0020292088706353,y:.5622083067809953},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:6,a:[3,0,1.1,1.6],n:1,e:[[{x:0,y:0},{x:.41725541099173036,y:-.21227685538493857},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:6,a:[3,0,1.8,2],n:2,e:[[{x:0,y:0},{x:1.1156484496014745,y:-.5696699195635277},{x:1,y:0}],[{x:0,y:0},{x:.5915085224393015,y:.6363066604679737},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:6,a:[4,0,2,2],n:2,e:[[{x:0,y:0},{x:.2437505513566527,y:1.7967912914204867},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:6,a:[3,0,1.3,2],e:[[{x:0,y:0},{x:.505993608737215,y:.07131188689618151},{x:.8911460570744502,y:-.48888784327447643},{x:1,y:0}],[{x:0,y:0},{x:.36933251113939325,y:-.3814156755936903},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:8,a:[3,0,1,.8],e:[[{x:0,y:0},{x:.5050060757302663,y:1.2136945753654427},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:8,a:[1,0,.7,1.5],e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.3013840829194331,y:-1.1746197659050606},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:9,a:[1,.192,2,2],n:1,e:[[{x:0,y:0},{x:.6131484793451012,y:-.281313758377036},{x:1,y:0}],[{x:0,y:0},{x:1.0166956662029636,y:-.49707676867923123},{x:1,y:0}]]},{t:9,a:[1,.488,1.6],n:1,e:[[{x:0,y:0},{x:.7576166176407408,y:2.3325045744108106},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:9,a:[2,.02,.3],e:[[{x:0,y:0},{x:-.1880592157268044,y:-1.298769431415768},{x:1,y:0}],[{x:0,y:0},{x:.3806869343702517,y:-.4774464120998052},{x:1,y:0}]]},{t:13,a:[1,0,.3,.6],e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.6388393518500166,y:.9386683572165353},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:13,a:[1,.08,.3,.4],e:[[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:-.2881840960663451,y:.940305846622687},{x:1,y:0}]]},{t:15,a:[1,0,.58,2],n:2,e:[[{x:0,y:0},{x:.32408059432386604,y:-.2757273344775576},{x:.10196111961047682,y:-1.0836279429110924},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:22,a:[1,0,.9],e:[[{x:0,y:0},{x:.4008428518472027,y:-.4954590190465238},{x:1,y:0}],[{x:0,y:0},{x:.6525341186410483,y:.43566406843543354},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:22,a:[1,0,1.12,2],n:2,e:[[{x:0,y:0},{x:.5868408159458037,y:.4865167478470753},{x:1,y:0}],[{x:0,y:0},{x:.25983300676191456,y:.8113704166932943},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:25,a:[1,0,1.268,2],n:2,e:[[{x:0,y:0},{x:-.082784278463512,y:-.6361110451102521},{x:.8810541381465796,y:-1.0481520227015917},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:2,a:[1,.612,1.628],e:[[{x:0,y:0},{x:.8013456417137096,y:-1.056872450318838},{x:.5658957776332234,y:-.23202450307076594},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.7004925993163382,y:-.2672796005712919},{x:1,y:0}]]},{t:6,a:[1,.128,.268,.6],e:[[{x:0,y:0},{x:.46734784459249434,y:-.7837568840184894},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.8897985580823198,y:-1.0904960920345261},{x:1,y:0}]]},{t:25,a:[1,0,1.72,2],n:2,e:[[{x:0,y:0},{x:.6600120624956806,y:.7255507173524829},{x:1,y:0}],[{x:0,y:0},{x:.6248854217704906,y:-.3150512317755034},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:2,a:[1,0,1.52,2],n:2,e:[[{x:0,y:0},{x:.2626475024340884,y:-.6047699402034308},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.6262874489287886,y:.46399476854734356},{x:1,y:0}]]},{t:6,a:[3,0,.72,2],n:2,e:[[{x:0,y:0},{x:.5686329626815043,y:-.4689258616234038},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:.8917936015731618,y:-.6151261300675905},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]},{t:6,a:[3,.44,.764],n:2,e:[[{x:0,y:0},{x:.505993608737215,y:.07131188689618151},{x:1,y:0}],[{x:0,y:0},{x:.36933251113939325,y:-.3814156755936903},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}],[{x:0,y:0},{x:1,y:0}]]}],e=[{s:4,p:[0,1.192,.432,.096]},{s:5,p:[.132,.304,.128,0]},{s:6,p:[.163,.871,.039,.02]},{s:6,p:[.116,1.092,.092,.082]},{s:7,p:[.072,.86,.032]},{s:7,p:[.044,1.876,.16]},{s:11,p:[.26,.52,.116,.5,1.7]},{s:11,p:[.244,.436,0,1.496,.872],a:[4,0,.884,2]},{s:11,p:[.232,0,.144,.492,.12],a:[3,0,2,2]},{s:28,p:[.032,1.24,.084],a:[1,0,1.72,2]},{s:28,p:[.004,1.772,0],a:[1,0,2,2]},{s:24,p:[.048,.012,.168],a:[1,0,1,2]},{s:24,p:[.048,.7,.092],a:[1,0,.836,2]},{s:25,p:[.064,.484,.04],a:[1,0,1.268,2]},{s:25,p:[.008,1.072,.176]},{s:25,p:[.064,.46,.04]},{s:25,p:[.068,.812,.004]},{s:25,p:[.04,.496,.096]},{s:26,p:[.116,1.204,0,.268]},{s:23,p:[.02,.116,.22],a:[1,0,1.37,2]},{s:23,p:[0,.128,.14]},{s:23,p:[.048,.6,.04],a:[1,0,.78,2]},{s:23,p:[.068,.016,.032]},{s:11,p:[.012,.388,.212,1.628,.9],a:[1,.332,.748]},{s:23,p:[.108,1.048,.04],a:[1,0,1.45,2]},{s:24,p:[.06,1.004,.264]},{s:24,p:[.036,.188,.076],a:[1,0,.656,2]},{s:14,p:[.128,.332,0,.648,1.92]},{s:21,p:[.076,.168,.56],a:[2,.36,.652]},{s:5,p:[.072,.048,.248,.084]},{s:7,p:[.084,.42,.012]},{s:20,p:[.148,.068,.596],a:[0,.052,.32,.6]},{s:19,p:[.008,1.716,.2],a:[1,.884,2,1]},{s:19,p:[.187,1.665,.031],a:[1,.756,2,1.2]},{s:19,p:[.024,1.916,.22],a:[1,.904,2]},{s:13,p:[.104,.528,.228,.772,1.968],a:[4,.788,2,2]},{s:19,p:[.176,1.948,.056],a:[1,.928,2,2]},{s:4,p:[.052,.052,.324,.088]},{s:17,p:[.1,1.368,.164]},{s:22,p:[.056,.14,.056],a:[1,.092,.42]},{s:7,p:[.072,.516,.032]},{s:7,p:[.076,.34,.076]},{s:7,p:[.02,.792,.196]},{s:3,p:[.124,.536,.064,.276]},{s:28,p:[.036,.312,.076]},{s:11,p:[.216,.52,.048,.072,.488],a:[3,0,1.4]},{s:13,p:[.104,.528,.228,.564,1.604]},{s:13,p:[.132,.104,.164,.024,.9],a:[4,0,1,1.4]},{s:13,p:[1.1,1.808,.252,.352,1.34],a:[0,.172,1.9,2.6]},{s:13,p:[.12,.488,.22,.52,1.068]},{s:12,p:[.32,.572,.032,.136,1.948],a:[1,.34,1.08]},{s:13,p:[.16,.484,.192,1.836,.044],a:[4,0,1.7,2]},{s:12,p:[.38,.596,.012,.96,.008]},{s:9,p:[.036,.576,.064,.28,.412,.332]},{s:12,p:[.16,.712,.368,1.224,.516],a:[1,.4,2,2]},{s:11,p:[.192,.2,.008,.276,1.164],a:[1,0,.272,.6]},{s:4,p:[0,1.524,.432,.108]},{s:0,p:[.168,.926,.076,.608],a:[1,.2,1,.5]},{s:0,p:[.18,.588,.016,.196]},{s:25,p:[.084,.492,.008]},{s:12,p:[0,.444,.32,1.164,1.7],a:[1,.34,1.092,1.2]},{s:2,p:[.024,.936,.136,.768]},{s:23,p:[.048,.152,.128],a:[1,0,1.4,2]},{s:3,p:[.088,.528,.06,.208],a:[1,.08,.564,.6]},{s:23,p:[0,.764,.14]},{s:5,p:[.052,1.448,0,.492]},{s:5,p:[.072,.016,.244,.008]},{s:5,p:[.124,1.964,.044,.288],a:[3,0,.8]},{s:6,p:[.196,.084,.036,.076]},{s:6,p:[.156,.488,.05,.02]},{s:6,p:[.08,.632,.136,.036]},{s:29,p:[0,.524,.208,.232]},{s:23,p:[.052,1.084,.16],a:[1,0,1.4,2]},{s:8,p:[.064,.108]},{s:9,p:[.06,.604,.016,.244,.352,.124],a:[3,0,.832]},{s:27,p:[.072,.176,.164,.548,1.9],a:[4,.976,1.97,2]},{s:9,p:[.032,.424,.248,.156,.064,.516],a:[3,.052,.424]},{s:14,p:[.128,.336,.016,.724,1.92]},{s:12,p:[.048,.472,.264,2,1.2],a:[2,.116,.416]},{s:10,p:[.168,.22,.148,.384,.064,1.78]},{s:10,p:[.172,.176,.16,.524,.304,1.836]},{s:11,p:[.26,.52,.112,.196,1.696]},{s:11,p:[.064,.248,.116,.56,.152],a:[1,0,.264,.4]},{s:12,p:[.36,.656,.004,.896,.008],a:[3,0,1.5,2]},{s:12,p:[.36,.656,.004,.96,.472],a:[3,.332,1.558,2.5]},{s:2,p:[.328,.788,.092,.508]},{s:13,p:[.024,.472,.272,.376,1.712]},{s:15,p:[.052,.532,.152,.108]},{s:15,p:[.164,.428,0,.084],a:[3,0,.6,.4]},{s:16,p:[.156,.56,.116,.192]},{s:16,p:[.308,.836,0,.66],a:[1,.35,1]},{s:5,p:[.048,1.316,0,.42],a:[3,.316,.808,1.5]},{s:22,p:[.084,.06,.08],a:[1,.025,.8]},{s:18,p:[.128,.72,.056],a:[2,.012,.4]},{s:18,p:[.132,1.008,.124]},{s:26,p:[.208,.94,0,0],a:[1,.684,1.9,2.5]},{s:27,p:[.08,.152,.164,.548,1.9],a:[1,0,.26,.5]},{s:21,p:[.076,.208,.436]},{s:22,p:[.028,.264,.232]},{s:11,p:[.152,.512,.328,.508,1.932],a:[3,0,2,1.4]},{s:27,p:[.072,.212,.176,.116,.56]},{s:25,p:[.112,0,.016],a:[1,0,1.268,2]},{s:20,p:[.164,.08,.4]},{s:29,p:[.096,.856,.152,.012],a:[2,.08,.66,1.4]},{s:30,p:[.1,.496,.136,.508,1.404]},{s:30,p:[.104,.472,.144,.204,.188],a:[0,0,.364,.6]},{s:30,p:[.104,0,.428,.372,1.696],a:[3,0,1.72,2.5]},{s:30,p:[.104,0,.428,.656,1.696],a:[3,0,1.72,2.5]},{s:30,p:[.104,.048,.236,.536,1.74],a:[2,.072,.816,.8]},{s:19,p:[.108,.208,.052]},{s:20,p:[.064,.144,.4],a:[1,.08,.4,.6]},{s:1,p:[.072,.624,.396,1.812,1.92]},{s:1,p:[.244,.7,.452,2,1.664],a:[3,.192,1.9,2.5]},{s:11,p:[.24,.048,.084,.133,1.528]},{s:11,p:[.18,.136,.148,.076,1.564]},{s:31,p:[.124,.524,.056,.576,.908]},{s:31,p:[.12,.516,.056,0,1.1],a:[3,0,.344]},{s:31,p:[.132,.148,.056,.636,1.092],a:[3,0,1.092,2]},{s:13,p:[.068,.42,.176,1.8,1.784],a:[3,0,1.572,2]},{s:13,p:[.052,.372,.148,.17,1.184],a:[3,0,1.61,2]},{s:13,p:[.036,.36,.116,0,1.012],a:[4,.8,1.62]},{s:15,p:[.024,.472,.152,.12],a:[3,.02,.76]}],n=[["#500920","#e40032","#fdbf34"],["#0a1415","#af3886","#bdf217"],["#5a2150","#e29800","#bfffd3"],["#1f352a","#e52fdb","#93ff00"],["#2b168c","#ff007d","#f2f500"],["#1f352a","#1a8afe","#9dff0a"],["#1f352a","#e52fdb","#14f9ff"],["#12000e","#f40701","#ffee6a"],["#3c1d46","#f37b6a","#d1ff00"],["#2c0c58","#ff258b","#ffee52"]],s=[["#041517","#c300e6","#ffd3c5"],["#044248","#CFF4FA","#F53CB5"],["#143336","#fe6452","#b7ffff"],["#212c0f","#426eff","#ffd87c"],["#0a2a45","#ff00b4","#ffefc0"],["#1a3c45","#e87a1d","#d4faff"],["#402A48","#D00659","#FFEAF4"],["#3e185e","#8f9700","#ffefde"],["#363e21","#9bb565","#fbffc9"],["#641a03","#ea989e","#bdecfc"],["#0c2d48","#66d2d6","#fbc740"],["#51322a","#9eca94","#dbefde"],["#051e64","#f22822","#fdfbf5"],["#06351b","#0091c1","#ffdcfc"],["#22343c","#f46a6c","#bfffeb"],["#162325","#b545a7","#fdde70"],["#0c1613","#396caf","#ffd6f3"],["#581c58","#ff87aa","#ffead9"],["#171031","#cb368a","#ffdcb4"],["#193121","#3dadbb","#eeebfe"],["#012873","#EAB349","#F9EAE6"],["#421B52","#DA9650","#F9F0FF"],["#27421B","#E3AA60","#E8FFDC"],["#2D3954","#6C94F0","#C8F9FA"],["#423116","#E6B363","#FFE5BA"],["#332F1B","#62A8A4","#F5EECE"]],r=[[24],[134],[236,236,255]],y=[[0],[255],[0]],x=11,i=14,a=16,f=18,o=19,c=o;new p5((function(u){let p=1,h=2,v=3,d=4,M=5,b=6,w=7,F=8,m=17,g=18,A=19;const E=0,C=1,D=3;var T,B;let P,k,_,j,I,R,S,z,O,Q,V,H,J=[[175,50,12,25],[200,50,12,25],[220,50,12,25],[250,50,15,25],[280,50,15,25],[320,50,15,25]],K=[],L=0,N=0,U=[],W={x:0,y:0},X=null,Y=null,Z=null,$=0,tt=!1,et=null,nt=null;const st=512;let rt=null,yt=null,xt=0,it=!1,ft=-.008;var ot=0;let ct=.1,lt=5e-4,ut=.99,pt=.01,ht=2,vt=-1,dt=1,Mt=[.75,1,1.5];u.setup=()=>{et=window.innerWidth,nt=window.innerHeight,k=u.createCanvas(et,nt,u.WEBGL),S=new at(1),u.textureWrap(u.REPEAT),u.textureMode(u.NORMAL),H=u.createShader(jt,It),u.shader(H),u.frameRate(60),function(){P=function(t){let e,n=[];for(let s=0;s<32;s++)e=t.substr(2+2*s,2),n.push(parseInt(e,16));return n}(tokenData.hash),function(){T=parseInt(tokenData.tokenId)%1e6,(B=T%111===0||P[F]>252)?($=Bt[T],$||($=P[w]%20),tt=!0):($=P[w]%e.length,tt=!1);Q=2,V=7,N=e[$],N.sh=t[N.s],3==N.sh.t&&(V=6)}(),function(){let t,e,l=!1;if(B)if(666==T)c=i;else if(999==T)c=a;else{c=o;let n=P[A]%J.length,s=J[n];I=s[0],t=s[1],e=s[2],R=s[3]}else c=P[m]%64,c>=o?c=o:c<=x?c=x:c<=i?c=i:c<=a?(c=a,l=!0):c<=f&&(c=f),R=u.map(P[d],0,255,5,30),I=u.map(P[p],0,255,0,360),I>48&&I<89&&(I+=279-7*R),t=u.map(P[h],0,255,40,100),e=u.map(P[v],0,255,0,24);l=c==a;let w=u.map(P[M],0,255,15,35),F=u.map(P[b],0,255,31,43),D=void 0==N.sh.n?0:N.sh.n;L=P[g]%16,(L>3||2==D||3==L&&1==D)&&(L=0);L==E&&(F+=9);let k=I+R;if(K=[],l)gt(y);else if(c==x){let t=420==T?8:P[d]%s.length;gt(s[t])}else if(c==i){let t=666==T?0:P[d]%n.length;gt(n[t])}else if(c==f)r[1]=100+F,gt(r);else{let n,s,r=k>60&&k<189?98:95,y=k>60&&k<189?15:25;for(let x=0;x<4;x++)n=e+x*F,s=t+x*w,x>=2&&(n=Math.min(Math.max(n,r),100),s=Math.max(s,y)),K.push(At([I+x*R,s,n]))}_=l?u.color(255):L==E||B?K[0]:L==C?K[1]:u.color(0)}(),l=N,S.reset(l.sh.t),z=S.getPs(),j=new mt(S,K.slice(0,3)),Z=[],z=l.p,S.setPs(z),Z=l.sh.e,Pt();var l}(),u.noLoop()};var bt=0;function wt(){it?(ft=-ft,ft<0&&(it=!1)):(it=!0,u.loop())}u.draw=()=>{u.background(255),u.push(),u.translate(-u.width/2,-u.height/2);let t=vt>-1,e=u.deltaTime;if(e>50&&7==bt++&&u.frameRate(30),t){if(it){let t=Math.max(1-Math.abs(ot)/1e7,.999);lt=lt>0?Math.max(lt*t,1e-6):Math.min(lt*t,-1e-6)}ct+=lt*Math.min(e,100),(ct>=ut&&lt>0||ct<=pt&&lt<0)&&(lt=-lt);let t=S.getPs();t[vt]=ct,S.setPs(t),Pt()}if(it){const t=q(X,S.getT1());t.x-=X[2],t.y-=X[5];const e=Ct(t);_t(),W.x+=ft*t.x/e,W.y+=ft*t.y/e,ot=ft<0?ot-1:ot+1}!function(){u.noStroke(),H.setUniform("res",[et/2,nt/2]),H.setUniform("tex",rt),H.setUniform("mob",tt),H.setUniform("fullscreen",!1);const t=q([yt[0],yt[2],0,yt[1],yt[3],0],Y);H.setUniform("M",[t[0],t[3],0,t[1],t[4],0,t[2],t[5],1]),u.rect(0,0,1,1)}(),u.pop(),it||t||u.noLoop()},u.windowResized=()=>{et=window.innerWidth,nt=window.innerHeight,u.resizeCanvas(et,nt),u.loop()},u.keyReleased=()=>{if("f"===u.key||"F"===u.key)wt();else if("d"===u.key||"D"===u.key){let t=N.sh.a;null!=N.a&&(t=N.a),function(t,e,n,s=1){let r=S.numPs();if(t<0||t>=r||e>=n||e<0||n<=0)return;if(t==vt)vt=-1;else{let r=S.getPs();ct=r[t],vt=t,pt=Math.max(e,.005),ut=Math.min(n,1.99),ht=s,lt=15e-6*ht*dt,u.loop()}}(...t)}else"s"===u.key||"S"===u.key?u.save(k,"inspiral_"+xt+++".jpg"):u.keyCode>=49&&u.keyCode<=51?function(t){let e=Mt[t];if(e==dt)return;vt>-1&&(lt*=e/dt);dt=e}(u.keyCode-49):u.keyCode===u.ESCAPE&&(vt=-1,it=!1)},u.touchStarted=()=>{wt()};class Ft{static rank(t){let e=Object.keys(t),n=t.slice(),s=1;for(;n.join()!==e.join();)n=this.mult(n,t),s++;return s}static pow(t,e){let n=t.slice();for(let s=0;s<e-1;s++)n=this.mult(n,t);return n}static mult(t,e){return t.length!==e.length?[]:t.map((t=>e[t]))}static evaluate(t,e,n){let s=t[e];for(let e=0;e<n;++e)s=t[s];return s}}class mt extends class{constructor(t,e,n,s,r){this.tiling=t,this.o=e,this.init=n,this.p1=s,this.p1rank=Ft.rank(s),this.p2=r,this.p2rank=Ft.rank(r)}getColor(t,e,n){let s=this.init[n];const r=this.p1rank,y=this.p2rank;return s=Ft.evaluate(this.p1,s,(t%r+r)%r),s=Ft.evaluate(this.p2,s,(e%y+y)%y),this.o[s]}}{constructor(t,e){const n=t.ttd.clr,s=n.slice(0,t.numAs());super(t,e,s,n.slice(12,15),n.slice(15,18))}}function gt(t){K=[],t.map((t=>{K.push(u.color(t))})),K.push(u.color(255))}function At(t){const e=hsluv.hsluvToRgb(t);return u.color(255*e[0],255*e[1],255*e[2])}function Et(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ct(t){return Math.sqrt(function(t,e){return t.x*e.x+t.y*e.y}(t,t))}function Dt(t){const e=t[0]*t[4]-t[1]*t[3];return[t[4]/e,-t[1]/e,(t[1]*t[5]-t[2]*t[4])/e,-t[3]/e,t[0]/e,(t[2]*t[3]-t[0]*t[5])/e]}function Tt(t){const e=Ct(t);return{x:t.x/e,y:t.y/e}}let Bt={111:4,420:80,666:30,999:62};function Pt(){O=[];let t=[];for(let e of S.parts()){const n=Z[e.id];let s=e.rev?n.length-2:1;const r=e.rev?-1:1;for(let y=0;y<n.length-1;++y){const{x:y,y:x}=q(e.T,n[s]);O.push({x:y,y:x}),t.push(y),t.push(x),s+=r}}U=l(t),function(){null==rt&&(rt=u.createGraphics(st,st),rt.pixelDensity(2));rt.background(K[0]),clr=j;const t=Ft.rank(clr.p1),e=Ft.rank(clr.p2),n=kt(S.getT1(),t),s=kt(S.getT2(),e),r=n.x*s.y-s.x*n.y;yt=[s.y/r,-n.y/r,-s.x/r,n.x/r];const y=yt,x=Math.sqrt(Math.abs(r/(t*e)));rt.push(),rt.applyMatrix(y[0],y[1],y[2],y[3],0,0);const i=function(t,e){const n=Ct(S.getT1()),s=Ct(S.getT2()),r=Math.sqrt(n*n+s*s),y=t.x*e.y-e.x*t.y,x=[{x:0,y:0},y<0?e:t,{x:t.x+e.x,y:t.y+e.y},y<0?t:e],i=Tt(Et(x[1],x[0])),a=Tt(Et(x[3],x[0]));return[{x:x[0].x+r*(-i.x-a.x),y:x[0].y+r*(-i.y-a.y)},{x:x[1].x+r*(i.x-a.x),y:x[1].y+r*(i.y-a.y)},{x:x[2].x+r*(i.x+a.x),y:x[2].y+r*(i.y+a.y)},{x:x[3].x+r*(-i.x+a.x),y:x[3].y+r*(-i.y+a.y)}]}(n,s);for(let t of S.fRegQ(i[0],i[1],i[2],i[3])){const e=t.T;let n=[];for(let t of O){let s=q(e,t);s.x*=st,s.y*=st,n.push(s)}const s=clr.getColor(t.t1,t.t2,t.aspect);rt.fill(s),rt.stroke(s),rt.strokeWeight(x);for(let t=0;t<U.length;t+=3)rt.triangle(n[U[t]].x,n[U[t]].y,n[U[t+1]].x,n[U[t+1]].y,n[U[t+2]].x,n[U[t+2]].y);L==D&&c!=a?rt.noStroke():rt.stroke(_),rt.strokeWeight(12*x),rt.strokeJoin(u.ROUND),rt.noFill();for(let t=0;t<O.length;++t){const e=n[t],s=n[(t+1)%O.length];rt.line(e.x,e.y,s.x,s.y)}}rt.pop(),_t()}()}function kt(t,e){return{x:t.x*e,y:t.y*e}}function _t(){const t=S.getT1(),e=S.getT2(),n=Ft.pow(clr.p1,Q),s=Ft.pow(clr.p2,V),r=Ft.rank(Ft.mult(n,s));let y={x:Q*t.x+V*e.x,y:Q*t.y+V*e.y};y=kt(y,r),X=q(G({x:0,y:0},{x:0,y:u.TWO_PI}),Dt(G({x:0,y:0},y))),X[2]=W.x,X[5]=W.y,Y=Dt(X)}let jt="precision highp float;attribute vec3 aPosition;varying vec2 uv;void main() {  uv = aPosition.xy;  vec4 pos = vec4(aPosition, 1.0);  pos = vec4( 2.0*pos.x-1.0, 2.0*pos.y-1.0, pos.z, 1.0 );  pos.y = -pos.y;  gl_Position = pos;}",It="precision highp float;uniform sampler2D tex;uniform vec2 res;uniform mat3 M;uniform bool mob;varying vec2 uv;void main() {  vec2 asp = vec2( 1.0, res.y / res.x );  vec2 cen = 0.5 * asp;  vec2 v = uv * asp;  vec2 p = v - cen;  if( mob ) {    float dia = length( res );    float c = res.x / dia;    float s = res.y / dia;    mat3 rot = mat3( c, -s, 0.0, s, c, 0.0, 0.0, 0.0, 1.0 );    p = (rot*vec3(p,1.0)).xy;    p = (1.5*p+vec2(0.5,0.0));    float l = (p.x-1.0)*(p.x-1.0) + p.y*p.y;    p = vec2( (p.x-p.x*p.x-p.y*p.y)/l, p.y/l );  }  vec2 merc = vec2( log( length( p ) ), atan( p.y, p.x ) );  vec4 col = texture2D( tex, (M * vec3( merc, 1.0 )).xy );  gl_FragColor = col;}"}),"sktch");function l(t,e,n){n=n||2;var s,r,y,x,i,a,f,o=e&&e.length,c=o?e[0]*n:t.length,l=u(t,0,c,n,!0),v=[];if(!l||l.next===l.prev)return v;if(o&&(l=function(t,e,n,s){var r,y,x,i=[];for(r=0,y=e.length;r<y;r++)(x=u(t,e[r]*s,r<y-1?e[r+1]*s:t.length,s,!1))===x.next&&(x.steiner=!0),i.push(A(x));for(i.sort(w),r=0;r<i.length;r++)F(i[r],n),n=p(n,n.next);return n}(t,e,l,n)),t.length>80*n){s=y=t[0],r=x=t[1];for(var d=n;d<c;d+=n)(i=t[d])<s&&(s=i),(a=t[d+1])<r&&(r=a),i>y&&(y=i),a>x&&(x=a);f=0!==(f=Math.max(y-s,x-r))?1/f:0}return h(l,v,n,s,r,f),v}function u(t,e,n,s,r){var y,x;if(r===function(t,e,n,s){for(var r=0,y=e,x=n-s;y<n;y+=s)r+=(t[x]-t[y])*(t[y+1]+t[x+1]),x=y;return r}(t,e,n,s)>0)for(y=e;y<n;y+=s)x=I(y,t[y],t[y+1],x);else for(y=n-s;y>=e;y-=s)x=I(y,t[y],t[y+1],x);return x&&T(x,x.next)&&(R(x),x=x.next),x}function p(t,e){if(!t)return t;e||(e=t);var n,s=t;do{if(n=!1,s.steiner||!T(s,s.next)&&0!==D(s.prev,s,s.next))s=s.next;else{if(R(s),(s=e=s.prev)===s.next)break;n=!0}}while(n||s!==e);return e}function h(t,e,n,s,r,y,x){if(t){!x&&y&&function(t,e,n,s){var r=t;do{null===r.z&&(r.z=g(r.x,r.y,e,n,s)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,s,r,y,x,i,a,f=1;do{for(n=t,t=null,y=null,x=0;n;){for(x++,s=n,i=0,e=0;e<f&&(i++,s=s.nextZ);e++);for(a=f;i>0||a>0&&s;)0!==i&&(0===a||!s||n.z<=s.z)?(r=n,n=n.nextZ,i--):(r=s,s=s.nextZ,a--),y?y.nextZ=r:t=r,r.prevZ=y,y=r;n=s}y.nextZ=null,f*=2}while(x>1)}(r)}(t,s,r,y);for(var i,a,f=t;t.prev!==t.next;)if(i=t.prev,a=t.next,y?d(t,s,r,y):v(t))e.push(i.i/n),e.push(t.i/n),e.push(a.i/n),R(t),t=a.next,f=a.next;else if((t=a)===f){x?1===x?h(t=M(p(t),e,n),e,n,s,r,y,2):2===x&&b(t,e,n,s,r,y):h(p(t),e,n,s,r,y,1);break}}}function v(t){var e=t.prev,n=t,s=t.next;if(D(e,n,s)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(E(e.x,e.y,n.x,n.y,s.x,s.y,r.x,r.y)&&D(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function d(t,e,n,s){var r=t.prev,y=t,x=t.next;if(D(r,y,x)>=0)return!1;for(var i=r.x<y.x?r.x<x.x?r.x:x.x:y.x<x.x?y.x:x.x,a=r.y<y.y?r.y<x.y?r.y:x.y:y.y<x.y?y.y:x.y,f=r.x>y.x?r.x>x.x?r.x:x.x:y.x>x.x?y.x:x.x,o=r.y>y.y?r.y>x.y?r.y:x.y:y.y>x.y?y.y:x.y,c=g(i,a,e,n,s),l=g(f,o,e,n,s),u=t.prevZ,p=t.nextZ;u&&u.z>=c&&p&&p.z<=l;){if(u!==t.prev&&u!==t.next&&E(r.x,r.y,y.x,y.y,x.x,x.y,u.x,u.y)&&D(u.prev,u,u.next)>=0)return!1;if(u=u.prevZ,p!==t.prev&&p!==t.next&&E(r.x,r.y,y.x,y.y,x.x,x.y,p.x,p.y)&&D(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;u&&u.z>=c;){if(u!==t.prev&&u!==t.next&&E(r.x,r.y,y.x,y.y,x.x,x.y,u.x,u.y)&&D(u.prev,u,u.next)>=0)return!1;u=u.prevZ}for(;p&&p.z<=l;){if(p!==t.prev&&p!==t.next&&E(r.x,r.y,y.x,y.y,x.x,x.y,p.x,p.y)&&D(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function M(t,e,n){var s=t;do{var r=s.prev,y=s.next.next;!T(r,y)&&B(r,s,s.next,y)&&_(r,y)&&_(y,r)&&(e.push(r.i/n),e.push(s.i/n),e.push(y.i/n),R(s),R(s.next),s=t=y),s=s.next}while(s!==t);return p(s)}function b(t,e,n,s,r,y){var x=t;do{for(var i=x.next.next;i!==x.prev;){if(x.i!==i.i&&C(x,i)){var a=j(x,i);return x=p(x,x.next),a=p(a,a.next),h(x,e,n,s,r,y),void h(a,e,n,s,r,y)}i=i.next}x=x.next}while(x!==t)}function w(t,e){return t.x-e.x}function F(t,e){if(e=function(t,e){var n,s=e,r=t.x,y=t.y,x=-1/0;do{if(y<=s.y&&y>=s.next.y&&s.next.y!==s.y){var i=s.x+(y-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(i<=r&&i>x){if(x=i,i===r){if(y===s.y)return s;if(y===s.next.y)return s.next}n=s.x<s.next.x?s:s.next}}s=s.next}while(s!==e);if(!n)return null;if(r===x)return n;var a,f=n,o=n.x,c=n.y,l=1/0;s=n;do{r>=s.x&&s.x>=o&&r!==s.x&&E(y<c?r:x,y,o,c,y<c?x:r,y,s.x,s.y)&&(a=Math.abs(y-s.y)/(r-s.x),_(s,t)&&(a<l||a===l&&(s.x>n.x||s.x===n.x&&m(n,s)))&&(n=s,l=a)),s=s.next}while(s!==f);return n}(t,e)){var n=j(e,t);p(e,e.next),p(n,n.next)}}function m(t,e){return D(t.prev,t,e.prev)<0&&D(e.next,t,t.next)<0}function g(t,e,n,s,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function A(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function E(t,e,n,s,r,y,x,i){return(r-x)*(e-i)-(t-x)*(y-i)>=0&&(t-x)*(s-i)-(n-x)*(e-i)>=0&&(n-x)*(y-i)-(r-x)*(s-i)>=0}function C(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&B(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(_(t,e)&&_(e,t)&&function(t,e){var n=t,s=!1,r=(t.x+e.x)/2,y=(t.y+e.y)/2;do{n.y>y!==n.next.y>y&&n.next.y!==n.y&&r<(n.next.x-n.x)*(y-n.y)/(n.next.y-n.y)+n.x&&(s=!s),n=n.next}while(n!==t);return s}(t,e)&&(D(t.prev,t,e.prev)||D(t,e.prev,e))||T(t,e)&&D(t.prev,t,t.next)>0&&D(e.prev,e,e.next)>0)}function D(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function B(t,e,n,s){var r=k(D(t,e,n)),y=k(D(t,e,s)),x=k(D(n,s,t)),i=k(D(n,s,e));return r!==y&&x!==i||(!(0!==r||!P(t,n,e))||(!(0!==y||!P(t,s,e))||(!(0!==x||!P(n,t,s))||!(0!==i||!P(n,e,s)))))}function P(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function k(t){return t>0?1:t<0?-1:0}function _(t,e){return D(t.prev,t,t.next)<0?D(t,e,t.next)>=0&&D(t,t.prev,e)>=0:D(t,e,t.prev)<0||D(t,t.next,e)<0}function j(t,e){var n=new S(t.i,t.x,t.y),s=new S(e.i,e.x,e.y),r=t.next,y=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,s.next=n,n.prev=s,y.next=s,s.prev=y,s}function I(t,e,n,s){var r=new S(t,e,n);return s?(r.next=s.next,r.prev=s,s.next.prev=r,s.next=r):(r.prev=r,r.next=r),r}function R(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}!function(){function t(t){var e=[],n=Math.pow(t+16,3)/1560896;n=n>o?n:t/f;for(var s=0;3>s;){var r=s++,x=y[r][0],i=y[r][1];r=y[r][2];for(var a=0;2>a;){var c=a++,l=(632260*r-126452*i)*n+126452*c;e.push({b:(284517*x-94839*r)*n/l,a:((838422*r+769860*i+731718*x)*t*n-769860*c*t)/l})}}return e}function e(e,n){n=n/360*Math.PI*2,e=t(e);for(var s=1/0,r=0;r<e.length;){var y=e[r];++r,0<=(y=y.a/(Math.sin(n)-y.b*Math.cos(n)))&&(s=Math.min(s,y))}return s}function n(t,e){for(var n=0,s=0,r=t.length;s<r;){var y=s++;n+=t[y]*e[y]}return n}function s(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055}function r(t){return function(t){return[s(n(y[0],t)),s(n(y[1],t)),s(n(y[2],t))]}(function(t){var e=t[0];if(0==e)return[0,0,0];var n=t[1]/(13*e)+i;return t=t[2]/(13*e)+a,[n=0-9*(e=8>=e?x*e/f:x*Math.pow((e+16)/116,3))*n/((n-4)*t-n*t),e,(9*e-15*t*e-t*n)/(3*t)]}(function(t){var e=t[1],n=t[2]/360*2*Math.PI;return[t[0],Math.cos(n)*e,Math.sin(n)*e]}(t)))}var y=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],x=1,i=.19783000664283,a=.46831999493879,f=903.2962962,o=.0088564516;window.hsluv={hsluvToRgb:function(t){return r(function(t){var n=t[0],s=t[1];return 99.9999999<(t=t[2])?[100,0,n]:1e-8>t?[0,0,n]:[t,s=e(t,n)/100*s,n]}(t))}}}(),l.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},s=0,r=0;r<t.length;r++){for(var y=0;y<t[r].length;y++)for(var x=0;x<e;x++)n.vertices.push(t[r][y][x]);r>0&&(s+=t[r-1].length,n.holes.push(s))}return n};const z=10001,O=10002,Q=10003,V=10004;function q(t,e){return e.hasOwnProperty("x")?{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}:[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}function G(t,e){return[e.x-t.x,t.y-e.y,t.x,e.y-t.y,e.x-t.x,t.y]}const H=[z,z,z],J=[0,1,2,0,1,2],K=[0,0,1,2,1],L=[!1,!1,!0,!0,!1,!1,!1,!1,!1,!0],N=[.12239750492,.5,.143395479017,.625],U=[.230769230769,.5,.225335752741],W=[0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,5.5,0,-.4,0,5,0,-4,.5,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-5.5,0,.5,0,0,0,4,-2],X=[3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],Y=[0,0,0,0,0,0,0,0,0,-1,3.9,0,5.5,0,-.4,0,5,0,-4,-.5],Z=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],$=[0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,2,0,1,3],tt=[0,1,0,0,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3],et=[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3],nt=[null,{np:4,na:1,nv:6,ne:3,es:H,eo:[!1,!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0],esi:J,dp:N,vc:W,tc:Y,ac:Z,clr:$},{np:4,na:2,nv:6,ne:3,es:H,eo:[!1,!1,!0,!0,!1,!1,!1,!1,!0,!0,!1,!0],esi:[0,0,1,2,2,1],dp:[.12239750492,.5,.225335752741,.225335752741],vc:[3.9,0,0,0,.1,0,5,0,0,-2.5,3.9,0,0,3.5,-.4,0,5,0,0,-2,3.9,0,0,0,.1,0,5,0,0,-1.5,0,0,0,0,0,0,0,0,0,1,0,0,-3.5,0,.5,0,0,0,0,.5,0,0,0,0,0,0,0,0,0,0],tc:[0,0,0,0,0,0,0,0,0,1,7.8,0,3.5,3.5,-.8,0,0,0,0,0],ac:[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,7.8,0,0,3.5,-.3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,-.5],clr:tt},null,{np:6,na:2,nv:6,ne:5,es:[Q,z,Q,Q,Q],eo:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1],esi:[0,1,2,3,1,4],dp:[.12239750492,.5,.315470053838,.5,.315470053838,.5],vc:[0,0,-2.5,0,0,0,.5,0,0,0,3,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-2.5,3.9,0,0,0,2.5,0,-.4,0,5,0,0,0,3,-3.5,3.9,0,0,0,0,0,.1,0,5,0,0,0,0,-1.5,0,0,0,0,0,0,0,0,0,0,0,0,0,1],tc:[0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-7.8,0,-2.5,0,-2.5,0,.8,0,-10,0,3,0,-3,4],ac:[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,-2.5,0,0,0,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,3,0,0,-1],clr:[0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,2,0,1,3]},null,{np:5,na:4,nv:6,ne:4,es:[Q,z,Q,z],eo:[!1,!1,!1,!1,!1,!1,!1,!1,!0,!0,!0,!0],esi:[0,1,2,3,1,3],dp:[.12239750492,.5,.225335752741,.625,.5],vc:[3.9,0,3.5,0,0,-.4,0,-5,0,4,0,.5,3.9,0,0,0,5,-2.4,0,5,0,0,0,-1.5,0,0,0,0,5,-2.5,0,0,0,0,0,1,0,0,-3.5,0,0,.5,0,0,0,4,0,-2,0,0,0,0,0,0,0,0,0,0,0,0,3.9,0,0,0,0,.1,0,-5,0,0,0,2.5],tc:[0,0,0,0,0,0,0,10,0,0,0,-3,7.8,0,7,0,0,-.8,0,0,0,0,0,0],ac:[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,7.8,0,3.5,0,5,-2.8,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,4,0,-1,0,0,0,0,0,-1,0,0,0,0,0,0,3.9,0,0,0,5,-2.4,0,0,0,0,0,0,0,0,0,0,0,1,0,5,0,0,0,-1.5,0,0,0,0,0,1,0,0,0,0,0,0,3.9,0,3.5,0,0,-.4,0,0,0,0,0,0,0,0,0,0,0,-1,0,-5,0,4,0,.5],clr:[0,1,2,2,0,0,0,0,0,0,0,0,1,2,0,0,1,2,3]},null,{np:4,na:1,nv:6,ne:3,es:[Q,Q,Q],eo:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],esi:J,dp:N,vc:W,tc:Y,ac:Z,clr:$},{np:3,na:2,nv:6,ne:2,es:[Q,z],eo:[!1,!1,!1,!1,!0,!0,!1,!1,!1,!1,!0,!0],esi:[0,1,1,0,1,1],dp:[.12239750492,.5,.225335752741],vc:[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,5,0,-2.5,3.9,0,3.5,-.4,0,5,0,-2,3.9,0,0,.1,0,5,0,-1.5,0,0,0,0,0,0,0,1,0,0,-3.5,.5,0,0,0,.5],tc:[0,0,0,0,0,0,0,-1,7.8,0,7,-.8,0,0,0,0],ac:[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,0,3.5,-.3,0,0,0,0,0,0,0,1,0,0,0,-.5],clr:et},null,null,null,{np:3,na:2,nv:6,ne:3,es:[O,Q,Q],eo:[!1,!1,!1,!1,!1,!1,!1,!0,!0,!1,!0,!1],esi:[0,1,2,0,2,1],dp:[.12239750492,.225335752741,.5],vc:[0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,3.5,0,-.4,0,0,5,-2,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1,0,-3.5,0,.5,0,0,5,-2],tc:[0,0,0,0,0,0,0,-1,7.8,7,0,-.8,0,0,0,0],ac:[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,7.8,3.5,0,-.3,0,0,0,0,0,0,0,-1,0,0,5,-2],clr:et},null,{np:3,na:2,nv:6,ne:3,es:[Q,V,Q],eo:[!1,!1,!1,!1,!1,!1,!0,!1,!0,!1,!0,!1],esi:[0,1,2,2,1,0],dp:[.12239750492,.225335752741,.225335752741],vc:[0,-3.5,0,.5,0,0,0,.5,0,0,0,0,0,0,0,0,3.9,0,0,.1,0,0,0,0,3.9,0,3.5,-.4,0,0,0,.5,3.9,0,0,.1,0,0,0,1,0,0,0,0,0,0,0,1],tc:[0,0,0,0,0,0,0,-1,-7.8,-3.5,-3.5,.8,0,0,0,0],ac:[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,-3.5,0,.5,0,0,0,0,0,0,0,-1,0,0,0,.5],clr:et},null,null,null,null,null,null,{np:3,na:2,nv:5,ne:3,es:[z,z,V],eo:L,esi:K,dp:U,vc:X,tc:[-7.8,0,-3.5,.3,0,0,0,-.5,-7.8,0,-3.5,.3,0,0,0,.5],ac:[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0],clr:et},null,null,{np:3,na:4,nv:5,ne:3,es:[z,z,Q],eo:L,esi:K,dp:U,vc:X,tc:[0,0,0,0,0,0,0,1,-15.6,0,-7,.6,0,0,0,0],ac:[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,0,1,0,0,0,-1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,1,0,0,0,-.5,0,0,0,1,0,0,0,0,-7.8,0,-3.5,.3,0,0,0,0,0,0,0,-1,0,0,0,.5],clr:[0,1,2,0,0,0,0,0,0,0,0,0,2,0,1,0,1,2,3]},{np:2,na:2,nv:5,ne:3,es:[Q,V,V],eo:[!1,!1,!0,!1,!1,!1,!1,!1,!0,!1],esi:K,dp:[.230769230769,.225335752741],vc:[3.9,0,.1,0,0,0,3.9,3.5,-.4,0,0,.5,3.9,0,.1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0],tc:[0,0,0,0,0,1,-7.8,-3.5,.3,0,0,.5],ac:[0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,-1,0,0,0,0,0,0,0,0,0,0,0,-1,0,0,1],clr:tt}];function st(t,e,n){let s={x:0,y:0};for(let r=0;r<n.length;++r)s.x+=t[e+r]*n[r],s.y+=t[e+n.length+r]*n[r];return s}function rt(t,e,n){let s=[];for(let r=0;r<2;++r)for(let r=0;r<3;++r){let r=0;for(let s=0;s<n.length;++s)r+=t[e+s]*n[s];s.push(r),e+=n.length}return s}const yt=[[1,0,0,0,1,0],[-1,0,1,0,-1,0],[-1,0,1,0,1,0],[1,0,0,0,-1,0]],xt=[[.5,0,0,0,.5,0],[-.5,0,1,0,.5,0]],it=[[.5,0,0,0,.5,0],[-.5,0,1,0,-.5,0]];class at{constructor(t){this.reset(t)}reset(t){this.tiling_type=t,this.ttd=nt[t],this.pms=this.ttd.dp.slice(0),this.pms.push(1),this.redo()}redo(){const t=this.numVt(),e=this.numPs(),n=this.numAs();this.verts=[];for(let n=0;n<t;++n)this.verts.push(st(this.ttd.vc,n*(2*(e+1)),this.pms));this.revs=[],this.edges=[];for(let e=0;e<t;++e){const n=this.ttd.eo[2*e],s=this.ttd.eo[2*e+1];this.revs.push(n!=s),this.edges.push(q(G(this.verts[e],this.verts[(e+1)%t]),yt[2*n+s]))}this.aspects=[];for(let t=0;t<n;++t)this.aspects.push(rt(this.ttd.ac,6*(e+1)*t,this.pms));this.t1=st(this.ttd.tc,0,this.pms),this.t2=st(this.ttd.tc,2*(e+1),this.pms)}numPs(){return this.ttd.np}setPs(t){t.length==this.pms.length-1&&(this.pms=t.slice(0),this.pms.push(1),this.redo())}getPs(){return this.pms.slice(0,-1)}numEdgeShapes(){return this.ttd.ne}*shape(){for(let t=0;t<this.numVt();++t){const e=this.ttd.esi[t];yield{T:this.edges[t],id:e,shape:this.ttd.es[e],rev:this.revs[t]}}}*parts(){for(let t=0;t<this.numVt();++t){const e=this.ttd.esi[t],n=this.ttd.es[e];if(n==z||n==V)yield{T:this.edges[t],id:e,shape:n,rev:this.revs[t],second:!1};else{const s=this.revs[t]?[1,0]:[0,1],r=n==O?xt:it;yield{T:q(this.edges[t],r[s[0]]),id:e,shape:n,rev:!1,second:!1},yield{T:q(this.edges[t],r[s[1]]),id:e,shape:n,rev:!0,second:!0}}}}numVt(){return this.ttd.nv}numAs(){return this.ttd.na}getT1(){return{...this.t1}}getT2(){return{...this.t2}}*fRegQ(t,e,n,s){const r=this.getT1(),y=this.getT2(),x=this.ttd,i=this.aspects;function a(t,e){return{x:t[0]*e.x+t[1]*e.y,y:t[2]*e.x+t[3]*e.y}}function f(t,e,n){const s=(n-t.y)/(e.y-t.y);return{x:(1-s)*t.x+s*e.x,y:n}}function*o(t,e,n,s,a){let f=t.x;const o=(s.x-t.x)/(s.y-t.y);let c=e.x;const l=(n.x-e.x)/(n.y-e.y),u=t.y;let p=n.y;a&&(p+=1);let h=Math.floor(u);for(;h<p;){const t=Math.trunc(h);let e=Math.floor(f);for(;e<c+1e-7;){const n=Math.trunc(e);for(let e=0;e<x.na;++e){let s=i[e].slice(0);s[2]+=n*r.x+t*y.x,s[5]+=n*r.y+t*y.y,yield{T:s,t1:n,t2:t,aspect:e}}e+=1}f+=o,c+=l,h+=1}}function*c(t,e,n,s,r){t.x>e.x?yield*o(e,t,s,n,r):yield*o(t,e,n,s,r)}function*l(t,e,n,s,r){t.y>n.y?yield*o(n,s,t,e,r):yield*o(t,e,n,s,r)}const u=1/(r.x*y.y-y.x*r.y),p=[y.y*u,-y.x*u,-r.y*u,r.x*u];let h=[a(p,t),a(p,e),a(p,n),a(p,s)];if(u<0){let t=h[1];h[1]=h[3],h[3]=t}if(Math.abs(h[0].y-h[1].y)<1e-7)yield*l(h[0],h[1],h[2],h[3],!0);else if(Math.abs(h[1].y-h[2].y)<1e-7)yield*l(h[1],h[2],h[3],h[0],!0);else{let t=0;for(let e=1;e<4;++e)h[e].y<h[t].y&&(t=e);let e=h[t],n=h[(t+1)%4],s=h[(t+2)%4],r=h[(t+3)%4];if(n.x>r.x){let t=n;n=r,r=t}if(n.y<r.y){const t=f(e,r,n.y),y=f(n,s,r.y);yield*c(e,e,t,n,!1),yield*c(n,t,r,y,!1),yield*c(y,r,s,s,!0)}else{const t=f(e,n,r.y),y=f(r,s,n.y);yield*c(e,e,r,t,!1),yield*c(t,r,y,n,!1),yield*c(n,y,s,s,!0)}}}getColor(t,e,n){const s=this.ttd.clr,r=s[18];let y=t%r;y<0&&(y+=r);let x=e%r;x<0&&(x+=r);let i=s[n];for(let t=0;t<y;++t)i=s[12+i];for(let t=0;t<x;++t)i=s[15+i];return i}}})();