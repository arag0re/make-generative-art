let i=[-2,0,0,-2,2,2],a=[0,0,0,0],l="linear",u="half float";var t="OES_texture_half_float";let e=0,o=0,r=!1;var f=[["5cacc4","8cd19d","cee879","fcb653","ff5254"],["1693a5","45b5c4","7ececa","a0ded6","c7ede8"],["8a8780","e6e5c4","d6d1af","e47267","d7d8c5"],["5d4157","838689","a8caba","cad7b2","ebe3aa"],["5e9fa3","dcd1b4","fab87f","f87e7b","b05574"],["aaff00","ffaa00","ff00aa","aa00ff","00aaff"],["b877a8","b8008a","ff3366","ffcc33","ccff33"],["551bb3","268fbe","2cb8b2","3ddb8f","a9f04d"],["ffffea","a795a5","7a959e","424e5e","3b2b46"]];let b=createREGL({extensions:[t,t+"_"+l]});let n=t=>b.framebuffer({shape:t,color:b.texture({type:u,min:l,mag:l,shape:t})});t="precision highp float;attribute vec2 p;varying vec2 vUv;void main(){vUv=p;gl_Position=vec4(2.*p.x-1.,1.-2.*p.y,0,1);}";let c=b({frag:"precision highp float;varying vec2 vUv;uniform bool uD,uC;uniform float uT,uS,uDm;uniform sampler2D uGt;vec3 u(vec3 a){return mod(a*a*34.+a,289.);}float C(vec2 c){vec2 b=floor((c.x+c.y)*.366025+c),a=(b.x+b.y)*.211325+c-b;float h=step(a.x,a.y);vec2 d=vec2(1.-h,h),e=a-d+.211325,f=a-.57735;b=mod(b,289.);vec3 p=u(u(b.y+vec3(0,d.y,1))+b.x+vec3(0,d.x,1)),v=max(.5-vec3(dot(a,a),dot(e,e),dot(f,f)),0.),g=fract(p*.02439)*2.-1.,j=abs(g)-.5,n=g-floor(g+.5);return .5+65.*dot(pow(v,vec3(4.))*(-.853735*(n*n+j*j)+1.792843),n*vec3(a.x,e.x,f.x)+j*vec3(a.y,e.y,f.y));}vec2 D(vec2 a){vec2 b=vec2(a)+2.*C(a.xy*.1+.15*uT+uS);return b.xy;}float E(vec2 a){vec2 b=vec2(1.5+1.5*sin(uT+uS),1.5+cos((uT+uS)*.7)),c=vec2(b-a)/3.;return 2.981132;}vec4 F(vec4 a,bool b);float q(float a);int x(float a,float b,out float c);vec4 y(int a,float b);float z(float a);vec4 A(vec2 a,bool e){float b=E(a),c=D(a).x,z=0.;int d=x(c,b,z);vec4 f=y(d,b);return F(f,e);}int r(float a){return int(floor(log(a)/log(1.490566)));}float i(int a){return pow(1.490566,float(a));}float z(float a){int b=r(a);float c=i(b),d=i(b-1),e=(a-c)/(c-d)/1.490566;return smoothstep(0.,1.,e);}float q(float a){return 1./a;}float B(float a){return a;}float o(int b,float a){return (float(b)+B(a)/q(a))*q(a);}float I(int b,float a){return (float(b)+.5+B(a)/q(a))*q(a);}int s(float b,float a){return int(floor(b/q(a)-B(a)/q(a)));}int t(float a,float b){int c=s(a,b);return a<I(c,b)?c:c+1;}float w(float b,float a){return o(t(b,a),a);}int x(float d,float e,out float J){int f=r(e);float b=i(f),g=i(f-1);int c=s(d,b);float h=o(c,b),j=o(c+1,b),v=w(h,g),G=w(j,g),a=z(e),n=h*a+v*(1.-a),p=j*a+G*(1.-a);d<n?c--:d>p?c++:0,J=abs(n-p)<.5*q(b)?-99999.:(n+p)/2.;return c;}int k(float a,float b){int d=1,c=0;for(int e=0;e<32;e++){bool f=a>0.||b>0.;if(f)mod(a,2.)>0.||mod(b,2.)>0.?c+=d:0,a=floor(a/2.),b=floor(b/2.),d*=2;else return c;}return c;}float l(int a,int b){return float(a)/pow(2.,float(b));}vec4 K(vec4 a,int b){return b>127?a:b<64?b<32?vec4(k(a.x,l(1,b)),k(a.y,l(1,b)),k(a.z,l(1,b)),k(a.w,l(1,b))):vec4(k(a.x,l(1,b-32)),k(a.y,l(1,b-32)),k(a.z,l(1,b-32)),a.w):b<96?vec4(k(a.x,l(1,b-64)),k(a.y,l(1,b-64)),a.z,a.w):vec4(k(a.x,l(1,b-96)),a.y,a.z,a.w);}vec4 y(int b,float g){vec4 d=vec4(0);int n=r(g);for(int a=0;a<10000000;a++){float e=i(a),c=i(a-1),f=o(b,e),h=o(b+1,e);int j=t(f,c),p=t(h,c);j==p?(d=K(d,int(96-a)),b=s(f,c)):b=j;if(a>=n)break;}d.x=float(b);return d;}float H(vec2 a){return fract(sin(dot(a.xy,vec2(12.9898,78.233)))*43758.545312+uS);}vec4 F(vec4 b,bool c){float a=H(b.xy);a=c?1.-a:a;float d=a+uT*.075;return texture2D(uGt,vec2(d,.5));}void main(){float a=.5/uDm+1e-5,b;b=uC?14.:7.;vec4 c;c=uD?vUv.y>.5+a/2.&&vUv.y<.5+a?A(vUv.xy*b,false):vUv.y>.5-a&&vUv.y<.5-a/2.?A(vUv.xy*b,true):vec4(0):vUv.y>.5-a&&vUv.y<.5+a?A(vUv.xy*b,false):vec4(0),gl_FragColor=c;}",vert:t,attributes:{p:i},uniforms:{uT:b.prop("uT"),uD:b.prop("uD"),uC:b.prop("uC"),uS:b.prop("uS"),uDm:b.prop("uDm"),uGt:b.prop("uGt")},count:3}),v=b({frag:"precision highp float;uniform sampler2D t;varying vec2 vUv;void main(){gl_FragColor=texture2D(t,vUv);}",vert:t,attributes:{p:i},uniforms:{t:b.prop("t")},count:3});function d(t){return function(t,a,e,o,r,i){{if(Math.abs(a-e)<Number.EPSILON)return o;a=(t-a)/(e-a)*(r-o)+o;return i&&(r<o?a<r?a=r:o<a&&(a=o):r<a?a=r:a<o&&(a=o)),a}}(g[t],0,255,0,1)}document.addEventListener("keyup",t=>{"Space"===t.code&&(r?(r=!1,o+=(Date.now()-e)/1e3):(r=!0,e=Date.now()))});let s=Math.max(window.innerWidth,window.innerHeight);t=Math.floor(Math.log2(s)+1);s=Math.max(Math.min(2048,Math.pow(2,t)),256);t=[s,s];let p=n(t),h=(n(t),new class{constructor(t,a){this.vS="precision highp float;attribute vec2 p;void main(){gl_Position=vec4(1.-2.*p,0,1);}",this.dS="precision highp float;uniform sampler2D t;uniform vec2 d;float f(int a){return a==0||a==4?.1507:a==1||a==3?.6836:1.0334;}void main(){int i=int(gl_FragCoord.y-.5),j=int(gl_FragCoord.x-.5),k=j*2,l=i*2;vec4 a=vec4(0.);for(int b=-2;b<3;b++)for(int c=-2;c<3;c++){int m=k+c,n=l+b;vec4 d=texture2D(t,vec2((float(m)+1.)/d.x,(float(n)+1.)/d.y));float g=f(c+2)*f(b+2);a.r+=g*d.r,a.g+=g*d.g,a.b+=g*d.b,a.a+=g*d.a;}gl_FragColor=a.a==0.?a:vec4(a.rgb/a.a,1.);}",this.uS="precision highp float;uniform sampler2D t1,t2;uniform vec2 d1,d2;float h(int a){return a==0||a==4?.1507:a==1||a==3?.6836:1.0334;}float i(int a){return a==0||a==2?.0312:.7753;}void main(){int j=int(gl_FragCoord.y-.5),k=int(gl_FragCoord.x-.5);float t=.027;vec4 a=vec4(0.);for(int b=-1;b<2;b++)for(int c=-1;c<2;c++){int u=k+c,v=j+b;vec4 l=texture2D(t1,vec2((float(u)+1.)/d1.x,(float(v)+1.)/d1.y));float m=i(c+1)*i(b+1);a.r+=m*l.r,a.g+=m*l.g,a.b+=m*l.b,a.a+=m*l.a;}for(int d=-2;d<3;d++)for(int e=-2;e<3;e++){int P=k+e,q=j+d;P/=2,q/=2;vec4 n=texture2D(t2,vec2(float(P)/d2.x,float(q)/d2.y));float o=t*h(e+2)*h(d+2);a.r+=o*n.r,a.g+=o*n.g,a.b+=o*n.b,a.a+=o*n.a;}gl_FragColor=a.a==0.?a:vec4(a.rgb/a.a,1.);}",this.dPD=b({vert:this.vS,frag:this.dS,uniforms:{t:b.prop("t"),d:b.prop("d")},attributes:{p:i},count:3}),this.dPU=b({vert:this.vS,frag:this.uS,uniforms:{t1:b.prop("t1"),t2:b.prop("t2"),d1:b.prop("d1"),d2:b.prop("d2")},attributes:{p:i},count:3});let e=t,o=a;var r=Math.log2(Math.min(e,o))-1;this.dp=r,this.dns=[],this.ups=[];for(let t=0;t<r;t++)e/=2,o/=2,this.dns.push(n([e,o]));for(let t=0;t<r;t++)e*=2,o*=2,this.ups.push(n([e,o]))}p(t){let a;for(this.pD(this.dns[0],t),a=1;a<this.dp;a++)this.pD(this.dns[a],this.dns[a-1]);for(this.pU(this.ups[0],this.dns[this.dp-2],this.dns[this.dp-1]),a=1;a<this.dp-1;a++)this.pU(this.ups[a],this.dns[this.dp-a-2],this.ups[a-1]);this.pU(this.ups[this.dp-1],t,this.ups[this.dp-2])}gt(){return this.ups[this.dp-1]}c(){b.clear({color:a,depth:1})}pD(t,a){let e=this;t.use(function(){e.c(),e.dPD({t:a,d:[a.width,a.height]})})}pU(t,a,e){let o=this;t.use(function(){o.c(),o.dPU({t1:a,t2:e,d1:[a.width,a.height],d2:[e.width,e.height]})})}}(s,s)),g=function(a){let e=[];for(let t=0;t<32;t++)e.push(a.slice(2+2*t,4+2*t));return e.map(t=>parseInt(t,16))}(tokenData.hash),m=d(0)<.5,x=!m&&d(1)<.5;t=Math.floor(d(2)*f.length);let y=d(3),D=function(a){var e,o;let r=[],i=0;for(let t=0;t<8;++t){var f=t/8;a[i+1][0]<f&&++i;var n=a[i+0],c=a[i+1],n=(e=n[1],o=c[1],n=(f-n[0])/(c[0]-n[0]),[e[0]*(1-n)+o[0]*n,e[1]*(1-n)+o[1]*n,e[2]*(1-n)+o[2]*n]);r.push(n[0]),r.push(n[1]),r.push(n[2]),r.push(1)}return b.texture({type:u,width:8,height:1,data:r,min:l,mag:l,wrapS:"repeat"})}(function(e){var o=t=>t.match(/.{2}/g).map(t=>parseInt(t,16)/255);let r=[];for(let a=0;a<e.length;a++){let t=[];var i=a/e.length;t.push(i);i=o(e[a]);t.push([i[0],i[1],i[2]]),r.push(t)}return o(e[0]),r.push([1,r[0][1]]),r}(f[t]));b.frame(({time:t})=>{r||(p.use(function(){b.clear({color:a,depth:1}),c({uT:t-o,uD:m,uC:x,uS:y,uDm:s,uGt:D})}),h.p(p),v({t:h.gt()}))});